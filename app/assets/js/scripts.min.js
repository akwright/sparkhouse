/*!
 * sparkhouse
 * we craft high quality ios apps
 * 
 * @author sparkhouse
 * @version 1.0.0
 * Copyright 2015. MIT licensed.
 */
!function(t,e,n){"use strict";function r(n){if(i=e.documentElement,o=e.body,W(),st=this,n=n||{},ft=n.constants||{},n.easing)for(var r in n.easing)Y[r]=n.easing[r];bt=n.edgeStrategy||"set",ht={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},ct=n.forceHeight!==!1,ct&&(qt=n.scale||1),dt=n.mobileDeceleration||A,gt=n.smoothScrolling!==!1,mt=n.smoothScrollingDuration||C,vt={targetTop:st.getScrollTop()},zt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||t.opera)})(),zt?(ut=e.getElementById(n.skrollrBody||T),ut&&at(),K(),Bt(i,[y,x],[b])):Bt(i,[y,S],[b]),st.refresh(),wt(t,"resize orientationchange",function(){var t=i.clientWidth,e=i.clientHeight;(e!==jt||t!==Gt)&&(jt=e,Gt=t,Ot=!0)});var a=U();return function s(){J(),xt=a(s)}(),st}var i,o,a={get:function(){return st},init:function(t){return st||new r(t)},VERSION:"0.6.30"},s=Object.prototype.hasOwnProperty,l=t.Math,u=t.getComputedStyle,h="touchstart",c="touchmove",f="touchcancel",d="touchend",p="skrollable",g=p+"-before",m=p+"-between",v=p+"-after",y="skrollr",b="no-"+y,S=y+"-desktop",x=y+"-mobile",w="linear",F=1e3,A=.004,T="skrollr-body",C=200,k="start",M="end",L="center",B="bottom",R="___skrollable_id",E=/^(?:input|textarea|button|select)$/i,N=/^\s+|\s+$/g,P=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,V=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,q=/^(@?[a-z\-]+)\[(\w+)\]$/,D=/-([a-z0-9_])/g,I=function(t,e){return e.toUpperCase()},_=/[\-+]?[\d]*\.?[\d]+/g,G=/\{\?\}/g,j=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,O=/[a-z\-]+-gradient/g,H="",z="",W=function(){var t=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(u){var e=u(o,null);for(var n in e)if(H=n.match(t)||+n==n&&e[n].match(t))break;if(!H)return void(H=z="");H=H[0],"-"===H.slice(0,1)?(z=H,H={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[H]):z="-"+H.toLowerCase()+"-"}},U=function(){var e=t.requestAnimationFrame||t[H.toLowerCase()+"RequestAnimationFrame"],n=Nt();return(zt||!e)&&(e=function(e){var r=Nt()-n,i=l.max(0,1e3/60-r);return t.setTimeout(function(){n=Nt(),e()},i)}),e},X=function(){var e=t.cancelAnimationFrame||t[H.toLowerCase()+"CancelAnimationFrame"];return(zt||!e)&&(e=function(e){return t.clearTimeout(e)}),e},Y={begin:function(){return 0},end:function(){return 1},linear:function(t){return t},quadratic:function(t){return t*t},cubic:function(t){return t*t*t},swing:function(t){return-l.cos(t*l.PI)/2+.5},sqrt:function(t){return l.sqrt(t)},outCubic:function(t){return l.pow(t-1,3)+1},bounce:function(t){var e;if(.5083>=t)e=3;else if(.8489>=t)e=9;else if(.96208>=t)e=27;else{if(!(.99981>=t))return 1;e=91}return 1-l.abs(3*l.cos(t*e*1.028)/e)}};r.prototype.refresh=function(t){var r,i,o=!1;for(t===n?(o=!0,lt=[],Ht=0,t=e.getElementsByTagName("*")):t.length===n&&(t=[t]),r=0,i=t.length;i>r;r++){var a=t[r],s=a,l=[],u=gt,h=bt,c=!1;if(o&&R in a&&delete a[R],a.attributes){for(var f=0,d=a.attributes.length;d>f;f++){var g=a.attributes[f];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name)if("data-emit-events"!==g.name){var m=g.name.match(P);if(null!==m){var v={props:g.value,element:a,eventType:g.name.replace(D,I)};l.push(v);var y=m[1];y&&(v.constant=y.substr(1));var b=m[2];/p$/.test(b)?(v.isPercentage=!0,v.offset=(0|b.slice(0,-1))/100):v.offset=0|b;var S=m[3],x=m[4]||S;S&&S!==k&&S!==M?(v.mode="relative",v.anchors=[S,x]):(v.mode="absolute",S===M?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*qt))}}else c=!0;else h=g.value;else u="off"!==g.value;else if(s=e.querySelector(g.value),null===s)throw"Unable to find anchor target "+g.value}if(l.length){var w,F,A;!o&&R in a?(A=a[R],w=lt[A].styleAttr,F=lt[A].classAttr):(A=a[R]=Ht++,w=a.style.cssText,F=Lt(a)),lt[A]={element:a,styleAttr:w,classAttr:F,anchorTarget:s,keyFrames:l,smoothScrolling:u,edgeStrategy:h,emitEvents:c,lastFrameIndex:-1},Bt(a,[p],[])}}}for(Ct(),r=0,i=t.length;i>r;r++){var T=lt[t[r][R]];T!==n&&(Q(T),et(T))}return st},r.prototype.relativeToAbsolute=function(t,e,n){var r=i.clientHeight,o=t.getBoundingClientRect(),a=o.top,s=o.bottom-o.top;return e===B?a-=r:e===L&&(a-=r/2),n===B?a+=s:n===L&&(a+=s/2),a+=st.getScrollTop(),a+.5|0},r.prototype.animateTo=function(t,e){e=e||{};var r=Nt(),i=st.getScrollTop(),o=e.duration===n?F:e.duration;return pt={startTop:i,topDiff:t-i,targetTop:t,duration:o,startTime:r,endTime:r+o,easing:Y[e.easing||w],done:e.done},pt.topDiff||(pt.done&&pt.done.call(st,!1),pt=n),st},r.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(st,!0),pt=n},r.prototype.isAnimatingTo=function(){return!!pt},r.prototype.isMobile=function(){return zt},r.prototype.setScrollTop=function(e,n){return yt=n===!0,zt?Wt=l.min(l.max(e,0),Vt):t.scrollTo(0,e),st},r.prototype.getScrollTop=function(){return zt?Wt:t.pageYOffset||i.scrollTop||o.scrollTop||0},r.prototype.getMaxScrollTop=function(){return Vt},r.prototype.on=function(t,e){return ht[t]=e,st},r.prototype.off=function(t){return delete ht[t],st},r.prototype.destroy=function(){var t=X();t(xt),At(),Bt(i,[b],[y,S,x]);for(var e=0,r=lt.length;r>e;e++)ot(lt[e].element);i.style.overflow=o.style.overflow="",i.style.height=o.style.height="",ut&&a.setStyle(ut,"transform","none"),st=n,ut=n,ht=n,ct=n,Vt=0,qt=1,ft=n,dt=n,Dt="down",It=-1,Gt=0,jt=0,Ot=!1,pt=n,gt=n,mt=n,vt=n,yt=n,Ht=0,bt=n,zt=!1,Wt=0,St=n};var K=function(){var r,a,s,u,p,g,m,v,y,b,S,x;wt(i,[h,c,f,d].join(" "),function(t){var i=t.changedTouches[0];for(u=t.target;3===u.nodeType;)u=u.parentNode;switch(p=i.clientY,g=i.clientX,b=t.timeStamp,E.test(u.tagName)||t.preventDefault(),t.type){case h:r&&r.blur(),st.stopAnimateTo(),r=u,a=m=p,s=g,y=b;break;case c:E.test(u.tagName)&&e.activeElement!==u&&t.preventDefault(),v=p-m,x=b-S,st.setScrollTop(Wt-v,!0),m=p,S=b;break;default:case f:case d:var o=a-p,w=s-g,F=w*w+o*o;if(49>F){if(!E.test(r.tagName)){r.focus();var A=e.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),r.dispatchEvent(A)}return}r=n;var T=v/x;T=l.max(l.min(T,3),-3);var C=l.abs(T/dt),k=T*C+.5*dt*C*C,M=st.getScrollTop()-k,L=0;M>Vt?(L=(Vt-M)/k,M=Vt):0>M&&(L=-M/k,M=0),C*=1-L,st.animateTo(M+.5|0,{easing:"outCubic",duration:C})}}),t.scrollTo(0,0),i.style.overflow=o.style.overflow="hidden"},$=function(){var t,e,n,r,o,a,s,u,h,c,f,d=i.clientHeight,p=kt();for(u=0,h=lt.length;h>u;u++)for(t=lt[u],e=t.element,n=t.anchorTarget,r=t.keyFrames,o=0,a=r.length;a>o;o++)s=r[o],c=s.offset,f=p[s.constant]||0,s.frame=c,s.isPercentage&&(c*=d,s.frame=c),"relative"===s.mode&&(ot(e),s.frame=st.relativeToAbsolute(n,s.anchors[0],s.anchors[1])-c,ot(e,!0)),s.frame+=f,ct&&!s.isEnd&&s.frame>Vt&&(Vt=s.frame);for(Vt=l.max(Vt,Mt()),u=0,h=lt.length;h>u;u++){for(t=lt[u],r=t.keyFrames,o=0,a=r.length;a>o;o++)s=r[o],f=p[s.constant]||0,s.isEnd&&(s.frame=Vt-s.offset+f);t.keyFrames.sort(Pt)}},Z=function(t,e){for(var n=0,r=lt.length;r>n;n++){var i,o,l=lt[n],u=l.element,h=l.smoothScrolling?t:e,c=l.keyFrames,f=c.length,d=c[0],y=c[c.length-1],b=h<d.frame,S=h>y.frame,x=b?d:y,w=l.emitEvents,F=l.lastFrameIndex;if(b||S){if(b&&-1===l.edge||S&&1===l.edge)continue;switch(b?(Bt(u,[g],[v,m]),w&&F>-1&&(Tt(u,d.eventType,Dt),l.lastFrameIndex=-1)):(Bt(u,[v],[g,m]),w&&f>F&&(Tt(u,y.eventType,Dt),l.lastFrameIndex=f)),l.edge=b?-1:1,l.edgeStrategy){case"reset":ot(u);continue;case"ease":h=x.frame;break;default:case"set":var A=x.props;for(i in A)s.call(A,i)&&(o=it(A[i].value),0===i.indexOf("@")?u.setAttribute(i.substr(1),o):a.setStyle(u,i,o));continue}}else 0!==l.edge&&(Bt(u,[p,m],[g,v]),l.edge=0);for(var T=0;f-1>T;T++)if(h>=c[T].frame&&h<=c[T+1].frame){var C=c[T],k=c[T+1];for(i in C.props)if(s.call(C.props,i)){var M=(h-C.frame)/(k.frame-C.frame);M=C.props[i].easing(M),o=rt(C.props[i].value,k.props[i].value,M),o=it(o),0===i.indexOf("@")?u.setAttribute(i.substr(1),o):a.setStyle(u,i,o)}w&&F!==T&&("down"===Dt?Tt(u,C.eventType,Dt):Tt(u,k.eventType,Dt),l.lastFrameIndex=T);break}}},J=function(){Ot&&(Ot=!1,Ct());var t,e,r=st.getScrollTop(),i=Nt();if(pt)i>=pt.endTime?(r=pt.targetTop,t=pt.done,pt=n):(e=pt.easing((i-pt.startTime)/pt.duration),r=pt.startTop+e*pt.topDiff|0),st.setScrollTop(r,!0);else if(!yt){var o=vt.targetTop-r;o&&(vt={startTop:It,topDiff:r-It,targetTop:r,startTime:_t,endTime:_t+mt}),i<=vt.endTime&&(e=Y.sqrt((i-vt.startTime)/mt),r=vt.startTop+e*vt.topDiff|0)}if(yt||It!==r){Dt=r>It?"down":It>r?"up":Dt,yt=!1;var s={curTop:r,lastTop:It,maxTop:Vt,direction:Dt},l=ht.beforerender&&ht.beforerender.call(st,s);l!==!1&&(Z(r,st.getScrollTop()),zt&&ut&&a.setStyle(ut,"transform","translate(0, "+-Wt+"px) "+St),It=r,ht.render&&ht.render.call(st,s)),t&&t.call(st,!1)}_t=i},Q=function(t){for(var e=0,n=t.keyFrames.length;n>e;e++){for(var r,i,o,a,s=t.keyFrames[e],l={};null!==(a=V.exec(s.props));)o=a[1],i=a[2],r=o.match(q),null!==r?(o=r[1],r=r[2]):r=w,i=i.indexOf("!")?tt(i):[i.slice(1)],l[o]={value:i,easing:Y[r]};s.props=l}},tt=function(t){var e=[];return j.lastIndex=0,t=t.replace(j,function(t){return t.replace(_,function(t){return t/255*100+"%"})}),z&&(O.lastIndex=0,t=t.replace(O,function(t){return z+t})),t=t.replace(_,function(t){return e.push(+t),"{?}"}),e.unshift(t),e},et=function(t){var e,n,r={};for(e=0,n=t.keyFrames.length;n>e;e++)nt(t.keyFrames[e],r);for(r={},e=t.keyFrames.length-1;e>=0;e--)nt(t.keyFrames[e],r)},nt=function(t,e){var n;for(n in e)s.call(t.props,n)||(t.props[n]=e[n]);for(n in t.props)e[n]=t.props[n]},rt=function(t,e,n){var r,i=t.length;if(i!==e.length)throw"Can't interpolate between \""+t[0]+'" and "'+e[0]+'"';var o=[t[0]];for(r=1;i>r;r++)o[r]=t[r]+(e[r]-t[r])*n;return o},it=function(t){var e=1;return G.lastIndex=0,t[0].replace(G,function(){return t[e++]})},ot=function(t,e){t=[].concat(t);for(var n,r,i=0,o=t.length;o>i;i++)r=t[i],n=lt[r[R]],n&&(e?(r.style.cssText=n.dirtyStyleAttr,Bt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Lt(r),r.style.cssText=n.styleAttr,Bt(r,n.classAttr)))},at=function(){St="translateZ(0)",a.setStyle(ut,"transform",St);var t=u(ut),e=t.getPropertyValue("transform"),n=t.getPropertyValue(z+"transform"),r=e&&"none"!==e||n&&"none"!==n;r||(St="")};a.setStyle=function(t,e,n){var r=t.style;if(e=e.replace(D,I).replace("-",""),"zIndex"===e)isNaN(n)?r[e]=n:r[e]=""+(0|n);else if("float"===e)r.styleFloat=r.cssFloat=n;else try{H&&(r[H+e.slice(0,1).toUpperCase()+e.slice(1)]=n),r[e]=n}catch(i){}};var st,lt,ut,ht,ct,ft,dt,pt,gt,mt,vt,yt,bt,St,xt,wt=a.addEvent=function(e,n,r){var i=function(e){return e=e||t.event,e.target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),r.call(this,e)};n=n.split(" ");for(var o,a=0,s=n.length;s>a;a++)o=n[a],e.addEventListener?e.addEventListener(o,r,!1):e.attachEvent("on"+o,i),Ut.push({element:e,name:o,listener:r})},Ft=a.removeEvent=function(t,e,n){e=e.split(" ");for(var r=0,i=e.length;i>r;r++)t.removeEventListener?t.removeEventListener(e[r],n,!1):t.detachEvent("on"+e[r],n)},At=function(){for(var t,e=0,n=Ut.length;n>e;e++)t=Ut[e],Ft(t.element,t.name,t.listener);Ut=[]},Tt=function(t,e,n){ht.keyframe&&ht.keyframe.call(st,t,e,n)},Ct=function(){var t=st.getScrollTop();Vt=0,ct&&!zt&&(o.style.height=""),$(),ct&&!zt&&(o.style.height=Vt+i.clientHeight+"px"),zt?st.setScrollTop(l.min(st.getScrollTop(),Vt)):st.setScrollTop(t,!0),yt=!0},kt=function(){var t,e,n=i.clientHeight,r={};for(t in ft)e=ft[t],"function"==typeof e?e=e.call(st):/p$/.test(e)&&(e=e.slice(0,-1)/100*n),r[t]=e;return r},Mt=function(){var t,e=0;return ut&&(e=l.max(ut.offsetHeight,ut.scrollHeight)),t=l.max(e,o.scrollHeight,o.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight),t-i.clientHeight},Lt=function(e){var n="className";return t.SVGElement&&e instanceof t.SVGElement&&(e=e[n],n="baseVal"),e[n]},Bt=function(e,r,i){var o="className";if(t.SVGElement&&e instanceof t.SVGElement&&(e=e[o],o="baseVal"),i===n)return void(e[o]=r);for(var a=e[o],s=0,l=i.length;l>s;s++)a=Et(a).replace(Et(i[s])," ");a=Rt(a);for(var u=0,h=r.length;h>u;u++)-1===Et(a).indexOf(Et(r[u]))&&(a+=" "+r[u]);e[o]=Rt(a)},Rt=function(t){return t.replace(N,"")},Et=function(t){return" "+t+" "},Nt=Date.now||function(){return+new Date},Pt=function(t,e){return t.frame-e.frame},Vt=0,qt=1,Dt="down",It=-1,_t=Nt(),Gt=0,jt=0,Ot=!1,Ht=0,zt=!1,Wt=0,Ut=[];"function"==typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:t.skrollr=a}(window,document),FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;e.length>n&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(t,e){return t+(e-t)*Math.random()},Math.clamp=function(t,e,n){return t=Math.max(t,e),t=Math.min(t,n)},FSS.Vector3={create:function(t,e,n){var r=new FSS.Array(3);return this.set(r,t,e,n),r},clone:function(t){var e=this.create();return this.copy(e,t),e},set:function(t,e,n,r){return t[0]=e||0,t[1]=n||0,t[2]=r||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],this},addVectors:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],this},addScalar:function(t,e){return t[0]+=e,t[1]+=e,t[2]+=e,this},subtract:function(t,e){return t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],this},subtractVectors:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],this},subtractScalar:function(t,e){return t[0]-=e,t[1]-=e,t[2]-=e,this},multiply:function(t,e){return t[0]*=e[0],t[1]*=e[1],t[2]*=e[2],this},multiplyVectors:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,this},divide:function(t,e){return t[0]/=e[0],t[1]/=e[1],t[2]/=e[2],this},divideVectors:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],this},divideScalar:function(t,e){return 0!==e?(t[0]/=e,t[1]/=e,t[2]/=e):(t[0]=0,t[1]=0,t[2]=0),this},cross:function(t,e){var n=t[0],r=t[1],i=t[2];return t[0]=r*e[2]-i*e[1],t[1]=i*e[0]-n*e[2],t[2]=n*e[1]-r*e[0],this},crossVectors:function(t,e,n){return t[0]=e[1]*n[2]-e[2]*n[1],t[1]=e[2]*n[0]-e[0]*n[2],t[2]=e[0]*n[1]-e[1]*n[0],this},min:function(t,e){return e>t[0]&&(t[0]=e),e>t[1]&&(t[1]=e),e>t[2]&&(t[2]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),this},clamp:function(t,e,n){return this.min(t,e),this.max(t,n),this},limit:function(t,e,n){var r=this.length(t);return null!==e&&e>r?this.setLength(t,e):null!==n&&r>n&&this.setLength(t,n),this},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalise:function(t){return this.divideScalar(t,this.length(t))},negate:function(t){return this.multiplyScalar(t,-1)},distanceSquared:function(t,e){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},distance:function(t,e){return Math.sqrt(this.distanceSquared(t,e))},lengthSquared:function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},length:function(t){return Math.sqrt(this.lengthSquared(t))},setLength:function(t,e){var n=this.length(t);return 0!==n&&e!==n&&this.multiplyScalar(t,e/n),this}},FSS.Vector4={create:function(t,e,n){var r=new FSS.Array(4);return this.set(r,t,e,n),r},set:function(t,e,n,r,i){return t[0]=e||0,t[1]=n||0,t[2]=r||0,t[3]=i||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},setW:function(t,e){return t[3]=e||0,this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t[3]+=e[3],this},multiplyVectors:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,this},min:function(t,e){return e>t[0]&&(t[0]=e),e>t[1]&&(t[1]=e),e>t[2]&&(t[2]=e),e>t[3]&&(t[3]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),t[3]>e&&(t[3]=e),this},clamp:function(t,e,n){return this.min(t,e),this.max(t,n),this}},FSS.Color=function(t,e){this.rgba=FSS.Vector4.create(),this.hex=t||"#000000",this.opacity=FSS.Utils.isNumber(e)?e:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(t,e){t=t.replace("#","");var n=t.length/3;return this.rgba[0]=parseInt(t.substring(0*n,1*n),16)/255,this.rgba[1]=parseInt(t.substring(1*n,2*n),16)/255,this.rgba[2]=parseInt(t.substring(2*n,3*n),16)/255,this.rgba[3]=FSS.Utils.isNumber(e)?e:this.rgba[3],this},hexify:function(t){var e=Math.ceil(255*t).toString(16);return 1===e.length&&(e="0"+e),e},format:function(){var t=this.hexify(this.rgba[0]),e=this.hexify(this.rgba[1]),n=this.hexify(this.rgba[2]);return this.hex="#"+t+e+n,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(t,e,n){return FSS.Vector3.set(this.position,t,e,n),this}},FSS.Light=function(t,e){FSS.Object.call(this),this.ambient=new FSS.Color(t||"#FFFFFF"),this.diffuse=new FSS.Color(e||"#FFFFFF"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(t,e,n){this.position=FSS.Vector3.create(t,e,n)},FSS.Vertex.prototype={setPosition:function(t,e,n){return FSS.Vector3.set(this.position,t,e,n),this}},FSS.Triangle=function(t,e,n){this.a=t||new FSS.Vertex,this.b=e||new FSS.Vertex,this.c=n||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var t,e;for(t=this.triangles.length-1;t>=0;t--)e=this.triangles[t],e.computeCentroid(),e.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(t,e,n,r){FSS.Geometry.call(this),this.width=t||100,this.height=e||100,this.segments=n||4,this.slices=r||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var i,o,a,s,l,u,h,c=[],f=this.width*-.5,d=.5*this.height;for(i=0;this.segments>=i;i++)for(c.push([]),o=0;this.slices>=o;o++)h=new FSS.Vertex(f+i*this.segmentWidth,d-o*this.sliceHeight),c[i].push(h),this.vertices.push(h);for(i=0;this.segments>i;i++)for(o=0;this.slices>o;o++)a=c[i+0][o+0],s=c[i+0][o+1],l=c[i+1][o+0],u=c[i+1][o+1],t0=new FSS.Triangle(a,s,l),t1=new FSS.Triangle(l,s,u),this.triangles.push(t0,t1)},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(t,e){this.ambient=new FSS.Color(t||"#444444"),this.diffuse=new FSS.Color(e||"#FFFFFF"),this.slave=new FSS.Color},FSS.Mesh=function(t,e){FSS.Object.call(this),this.geometry=t||new FSS.Geometry,this.material=e||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(t,e){var n,r,i,o,a;if(this.geometry.update(),e)for(n=this.geometry.triangles.length-1;n>=0;n--){for(r=this.geometry.triangles[n],FSS.Vector4.set(r.color.rgba),i=t.length-1;i>=0;i--)o=t[i],FSS.Vector3.subtractVectors(o.ray,o.position,r.centroid),FSS.Vector3.normalise(o.ray),a=FSS.Vector3.dot(r.normal,o.ray),this.side===FSS.FRONT?a=Math.max(a,0):this.side===FSS.BACK?a=Math.abs(Math.min(a,0)):this.side===FSS.DOUBLE&&(a=Math.max(Math.abs(a),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,o.ambient.rgba),FSS.Vector4.add(r.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,o.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,a),FSS.Vector4.add(r.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(r.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(t){return t instanceof FSS.Mesh&&!~this.meshes.indexOf(t)?this.meshes.push(t):t instanceof FSS.Light&&!~this.lights.indexOf(t)&&this.lights.push(t),this},remove:function(t){return t instanceof FSS.Mesh&&~this.meshes.indexOf(t)?this.meshes.splice(this.meshes.indexOf(t),1):t instanceof FSS.Light&&~this.lights.indexOf(t)&&this.lights.splice(this.lights.indexOf(t),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(t,e){return this.width!==t||this.height!==e?(this.width=t,this.height=e,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this):void 0},clear:function(){return this},render:function(){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.width=t,this.element.height=e,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,n,r,i,o;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,e=t.meshes.length-1;e>=0;e--)if(n=t.meshes[e],n.visible)for(n.update(t.lights,!0),r=n.geometry.triangles.length-1;r>=0;r--)i=n.geometry.triangles[r],o=i.color.format(),this.context.beginPath(),this.context.moveTo(i.a.position[0],i.a.position[1]),this.context.lineTo(i.b.position[0],i.b.position[1]),this.context.lineTo(i.c.position[0],i.c.position[1]),this.context.closePath(),this.context.strokeStyle=o,this.context.fillStyle=o,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.vertices=null,this.lights=null;var t={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};return this.gl=this.getContext(this.element,t),this.unsupported=!this.gl,this.unsupported?"WebGL is not supported by your browser.":(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),void this.setSize(this.element.width,this.element.height))},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(t,e){var n=!1;try{if(!(n=t.getContext("experimental-webgl",e)))throw"Error creating WebGL context."}catch(r){console.error(r)}return n},FSS.WebGLRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.unsupported?void 0:(this.element.width=t,this.element.height=e,this.gl.viewport(0,0,t,e),this)},FSS.WebGLRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.unsupported?void 0:(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this)},FSS.WebGLRenderer.prototype.render=function(t){if(FSS.Renderer.prototype.render.call(this,t),!this.unsupported){var e,n,r,i,o,a,s,l,u,h,c,f,d,p,g,m=!1,v=t.lights.length,y=0;if(this.clear(),this.lights!==v){if(this.lights=v,!(this.lights>0))return;this.buildProgram(v)}if(this.program){for(e=t.meshes.length-1;e>=0;e--)n=t.meshes[e],n.geometry.dirty&&(m=!0),n.update(t.lights,!1),y+=3*n.geometry.triangles.length;if(m||this.vertices!==y){this.vertices=y;for(l in this.program.attributes){for(h=this.program.attributes[l],h.data=new FSS.Array(y*h.size),d=0,e=t.meshes.length-1;e>=0;e--)for(n=t.meshes[e],r=0,i=n.geometry.triangles.length;i>r;r++)for(o=n.geometry.triangles[r],p=0,g=o.vertices.length;g>p;p++){switch(vertex=o.vertices[p],l){case"side":this.setBufferData(d,h,n.side);break;case"position":this.setBufferData(d,h,vertex.position);break;case"centroid":this.setBufferData(d,h,o.centroid);break;case"normal":this.setBufferData(d,h,o.normal);break;case"ambient":this.setBufferData(d,h,n.material.ambient.rgba);break;case"diffuse":this.setBufferData(d,h,n.material.diffuse.rgba)}d++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,h.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,h.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(h.location),this.gl.vertexAttribPointer(h.location,h.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),a=v-1;a>=0;a--)s=t.lights[a],this.setBufferData(a,this.program.uniforms.lightPosition,s.position),this.setBufferData(a,this.program.uniforms.lightAmbient,s.ambient.rgba),this.setBufferData(a,this.program.uniforms.lightDiffuse,s.diffuse.rgba);for(u in this.program.uniforms)switch(h=this.program.uniforms[u],f=h.location,c=h.data,h.structure){case"3f":this.gl.uniform3f(f,c[0],c[1],c[2]);break;case"3fv":this.gl.uniform3fv(f,c);break;case"4fv":this.gl.uniform4fv(f,c)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(t,e,n){if(FSS.Utils.isNumber(n))e.data[t*e.size]=n;else for(var r=n.length-1;r>=0;r--)e.data[t*e.size+r]=n[r]},FSS.WebGLRenderer.prototype.buildProgram=function(t){if(!this.unsupported){var e=FSS.WebGLRenderer.VS(t),n=FSS.WebGLRenderer.FS(t),r=e+n;if(!this.program||this.program.code!==r){var i=this.gl.createProgram(),o=this.buildShader(this.gl.VERTEX_SHADER,e),a=this.buildShader(this.gl.FRAGMENT_SHADER,n);if(this.gl.attachShader(i,o),this.gl.attachShader(i,a),this.gl.linkProgram(i),!this.gl.getProgramParameter(i,this.gl.LINK_STATUS)){var s=this.gl.getError(),l=this.gl.getProgramParameter(i,this.gl.VALIDATE_STATUS);return console.error("Could not initialise shader.\nVALIDATE_STATUS: "+l+"\nERROR: "+s),null}return this.gl.deleteShader(a),this.gl.deleteShader(o),i.code=r,i.attributes={side:this.buildBuffer(i,"attribute","aSide",1,"f"),position:this.buildBuffer(i,"attribute","aPosition",3,"v3"),centroid:this.buildBuffer(i,"attribute","aCentroid",3,"v3"),normal:this.buildBuffer(i,"attribute","aNormal",3,"v3"),ambient:this.buildBuffer(i,"attribute","aAmbient",4,"v4"),diffuse:this.buildBuffer(i,"attribute","aDiffuse",4,"v4")},i.uniforms={resolution:this.buildBuffer(i,"uniform","uResolution",3,"3f",1),lightPosition:this.buildBuffer(i,"uniform","uLightPosition",3,"3fv",t),lightAmbient:this.buildBuffer(i,"uniform","uLightAmbient",4,"4fv",t),lightDiffuse:this.buildBuffer(i,"uniform","uLightDiffuse",4,"4fv",t)},this.program=i,this.gl.useProgram(this.program),i}}},FSS.WebGLRenderer.prototype.buildShader=function(t,e){if(!this.unsupported){var n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(console.error(this.gl.getShaderInfoLog(n)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(t,e,n,r,i,o){var a={buffer:this.gl.createBuffer(),size:r,structure:i,data:null};switch(e){case"attribute":a.location=this.gl.getAttribLocation(t,n);break;case"uniform":a.location=this.gl.getUniformLocation(t,n)}return o&&(a.data=new FSS.Array(o*r)),a},FSS.WebGLRenderer.VS=function(t){var e=["precision mediump float;","#define LIGHTS "+t,"attribute float aSide;","attribute vec3 aPosition;","attribute vec3 aCentroid;","attribute vec3 aNormal;","attribute vec4 aAmbient;","attribute vec4 aDiffuse;","uniform vec3 uResolution;","uniform vec3 uLightPosition[LIGHTS];","uniform vec4 uLightAmbient[LIGHTS];","uniform vec4 uLightDiffuse[LIGHTS];","varying vec4 vColor;","void main() {","vColor = vec4(0.0);","vec3 position = aPosition / uResolution * 2.0;","for (int i = 0; i < LIGHTS; i++) {","vec3 lightPosition = uLightPosition[i];","vec4 lightAmbient = uLightAmbient[i];","vec4 lightDiffuse = uLightDiffuse[i];","vec3 ray = normalize(lightPosition - aCentroid);","float illuminance = dot(aNormal, ray);","if (aSide == 0.0) {","illuminance = max(illuminance, 0.0);","} else if (aSide == 1.0) {","illuminance = abs(min(illuminance, 0.0));","} else if (aSide == 2.0) {","illuminance = max(abs(illuminance), 0.0);","}","vColor += aAmbient * lightAmbient;","vColor += aDiffuse * lightDiffuse * illuminance;","}","vColor = clamp(vColor, 0.0, 1.0);","gl_Position = vec4(position, 1.0);","}"].join("\n");return e},FSS.WebGLRenderer.FS=function(){var t=["precision mediump float;","varying vec4 vColor;","void main() {","gl_FragColor = vColor;","}"].join("\n");return t},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,"svg"),this.element.setAttribute("xmlns",FSS.SVGNS),this.element.setAttribute("version","1.1"),this.element.style.display="block",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.setAttribute("width",t),this.element.setAttribute("height",e),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var t=this.element.childNodes.length-1;t>=0;t--)this.element.removeChild(this.element.childNodes[t]);return this},FSS.SVGRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,n,r,i,o,a;for(e=t.meshes.length-1;e>=0;e--)if(n=t.meshes[e],n.visible)for(n.update(t.lights,!0),r=n.geometry.triangles.length-1;r>=0;r--)i=n.geometry.triangles[r],i.polygon.parentNode!==this.element&&this.element.appendChild(i.polygon),o=this.formatPoint(i.a)+" ",o+=this.formatPoint(i.b)+" ",o+=this.formatPoint(i.c),a=this.formatStyle(i.color.format()),i.polygon.setAttributeNS(null,"points",o),i.polygon.setAttributeNS(null,"style",a);return this},FSS.SVGRenderer.prototype.formatPoint=function(t){return this.halfWidth+t.position[0]+","+(this.halfHeight-t.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(t){var e="fill:"+t+";";return e+="stroke:"+t+";"},!function(t){var e,n,r="0.4.2",i="hasOwnProperty",o=/[\.\/]/,a="*",s=function(){},l=function(t,e){return t-e},u={n:{}},h=function(t,r){t=String(t);var i,o=n,a=Array.prototype.slice.call(arguments,2),s=h.listeners(t),u=0,c=[],f={},d=[],p=e;e=t,n=0;for(var g=0,m=s.length;m>g;g++)"zIndex"in s[g]&&(c.push(s[g].zIndex),s[g].zIndex<0&&(f[s[g].zIndex]=s[g]));for(c.sort(l);c[u]<0;)if(i=f[c[u++]],d.push(i.apply(r,a)),n)return n=o,d;for(g=0;m>g;g++)if(i=s[g],"zIndex"in i)if(i.zIndex==c[u]){if(d.push(i.apply(r,a)),n)break;do if(u++,i=f[c[u]],i&&d.push(i.apply(r,a)),n)break;while(i)}else f[i.zIndex]=i;else if(d.push(i.apply(r,a)),n)break;
return n=o,e=p,d.length?d:null};h._events=u,h.listeners=function(t){var e,n,r,i,s,l,h,c,f=t.split(o),d=u,p=[d],g=[];for(i=0,s=f.length;s>i;i++){for(c=[],l=0,h=p.length;h>l;l++)for(d=p[l].n,n=[d[f[i]],d[a]],r=2;r--;)e=n[r],e&&(c.push(e),g=g.concat(e.f||[]));p=c}return g},h.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(o),r=u,i=0,a=n.length;a>i;i++)r=r.n,r=r.hasOwnProperty(n[i])&&r[n[i]]||(r[n[i]]={n:{}});for(r.f=r.f||[],i=0,a=r.f.length;a>i;i++)if(r.f[i]==e)return s;return r.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},h.f=function(t){var e=[].slice.call(arguments,1);return function(){h.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},h.stop=function(){n=1},h.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},h.nts=function(){return e.split(o)},h.off=h.unbind=function(t,e){if(!t)return void(h._events=u={n:{}});var n,r,s,l,c,f,d,p=t.split(o),g=[u];for(l=0,c=p.length;c>l;l++)for(f=0;f<g.length;f+=s.length-2){if(s=[f,1],n=g[f].n,p[l]!=a)n[p[l]]&&s.push(n[p[l]]);else for(r in n)n[i](r)&&s.push(n[r]);g.splice.apply(g,s)}for(l=0,c=g.length;c>l;l++)for(n=g[l];n.n;){if(e){if(n.f){for(f=0,d=n.f.length;d>f;f++)if(n.f[f]==e){n.f.splice(f,1);break}!n.f.length&&delete n.f}for(r in n.n)if(n.n[i](r)&&n.n[r].f){var m=n.n[r].f;for(f=0,d=m.length;d>f;f++)if(m[f]==e){m.splice(f,1);break}!m.length&&delete n.n[r].f}}else{delete n.f;for(r in n.n)n.n[i](r)&&n.n[r].f&&delete n.n[r].f}n=n.n}},h.once=function(t,e){var n=function(){return h.unbind(t,n),e.apply(this,arguments)};return h.on(t,n)},h.version=r,h.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=h:"undefined"!=typeof define?define("eve",[],function(){return h}):t.eve=h}(this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(n){return e(t,n)}):e(t,t.eve)}(this,function(t,e){var n=function(e){var n={},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,a="M"+(+new Date).toString(36),s=function(){return a+(o++).toString(36)},l=Date.now||function(){return+new Date},u=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},h=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},c=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},f=function(){var t=this;delete n[t.id],e("mina.stop."+t.id,t)},d=function(){var t=this;t.pdif||(delete n[t.id],t.pdif=t.get()-t.b)},p=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,n[t.id]=t)},g=function(){var t=0;for(var o in n)if(n.hasOwnProperty(o)){var a,s=n[o],l=s.get();if(t++,s.s=(l-s.b)/(s.dur/s.spd),s.s>=1&&(delete n[o],s.s=1,t--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(s)),i(s.start)){a=[];for(var u=0,h=s.start.length;h>u;u++)a[u]=+s.start[u]+(s.end[u]-s.start[u])*s.easing(s.s)}else a=+s.start+(s.end-s.start)*s.easing(s.s);s.set(a)}t&&r(g)},m=function(t,e,i,o,a,l,v){var y={id:s(),start:t,end:e,b:i,s:0,dur:o-i,spd:1,get:a,set:l,easing:v||m.linear,status:u,speed:h,duration:c,stop:f,pause:d,resume:p};n[y.id]=y;var b,S=0;for(b in n)if(n.hasOwnProperty(b)&&(S++,2==S))break;return 1==S&&r(g),y};return m.time=l,m.getById=function(t){return n[t]||null},m.linear=function(t){return t},m.easeout=function(t){return Math.pow(t,1.7)},m.easein=function(t){return Math.pow(t,.48)},m.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),r=n-e,i=Math.pow(Math.abs(r),1/3)*(0>r?-1:1),o=-n-e,a=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},m.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},m.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},m.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},m.bounce=function(t){var e,n=7.5625,r=2.75;return 1/r>t?e=n*t*t:2/r>t?(t-=1.5/r,e=n*t*t+.75):2.5/r>t?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e},t.mina=m,m}("undefined"==typeof e?function(){}:e),r=function(){function r(t,e){if(t){if(t.tagName)return T(t);if(t instanceof S)return t;if(null==e)return t=P.doc.querySelector(t),T(t)}return t=null==t?"100%":t,e=null==e?"100%":e,new A(t,e)}function i(t,e){if(e){if("string"==typeof t&&(t=i(t)),"string"==typeof e)return"xlink:"==e.substring(0,6)?t.getAttributeNS(ot,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(at,e.substring(4)):t.getAttribute(e);for(var n in e)if(e[V](n)){var r=q(e[n]);r?"xlink:"==n.substring(0,6)?t.setAttributeNS(ot,n.substring(6),r):"xml:"==n.substring(0,4)?t.setAttributeNS(at,n.substring(4),r):t.setAttribute(n,r):t.removeAttribute(n)}}else t=P.doc.createElementNS(at,t);return t}function o(t,e){return e=q.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):"array"==e&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||U.call(t).slice(8,-1).toLowerCase()==e}function a(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[V](n)&&(e[n]=a(t[n]));return e}function s(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function l(t,e,n){function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join("␀"),a=r.cache=r.cache||{},l=r.count=r.count||[];return a[V](o)?(s(l,o),n?n(a[o]):a[o]):(l.length>=1e3&&delete a[l.shift()],l.push(o),a[o]=t.apply(e,i),n?n(a[o]):a[o])}return r}function u(t,e,n,r,i,o){if(null==i){var a=t-n,s=e-r;return a||s?(180+180*_.atan2(-s,-a)/H+360)%360:0}return u(t,e,i,o)-u(n,r,i,o)}function h(t){return t%360*H/180}function c(t){return 180*t/H%360}function f(t,e,n,r,i,o){return null==e&&"[object SVGMatrix]"==U.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}function d(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),e.push("skewX"==n?["m",1,0,_.tan(h(r[0])),1,0,0]:"skewY"==n?["m",1,_.tan(h(r[0])),0,1,0,0]:[n.charAt(0)].concat(r)),t}),e}function p(t,e){var n=mt(t),r=new f;if(n)for(var i=0,o=n.length;o>i;i++){var a,s,l,u,h,c=n[i],d=c.length,p=q(c[0]).toLowerCase(),g=c[0]!=p,m=g?r.invert():0;"t"==p&&2==d?r.translate(c[1],0):"t"==p&&3==d?g?(a=m.x(0,0),s=m.y(0,0),l=m.x(c[1],c[2]),u=m.y(c[1],c[2]),r.translate(l-a,u-s)):r.translate(c[1],c[2]):"r"==p?2==d?(h=h||e,r.rotate(c[1],h.x+h.width/2,h.y+h.height/2)):4==d&&(g?(l=m.x(c[2],c[3]),u=m.y(c[2],c[3]),r.rotate(c[1],l,u)):r.rotate(c[1],c[2],c[3])):"s"==p?2==d||3==d?(h=h||e,r.scale(c[1],c[d-1],h.x+h.width/2,h.y+h.height/2)):4==d?g?(l=m.x(c[2],c[3]),u=m.y(c[2],c[3]),r.scale(c[1],c[1],l,u)):r.scale(c[1],c[1],c[2],c[3]):5==d&&(g?(l=m.x(c[3],c[4]),u=m.y(c[3],c[4]),r.scale(c[1],c[2],l,u)):r.scale(c[1],c[2],c[3],c[4])):"m"==p&&7==d&&r.add(c[1],c[2],c[3],c[4],c[5],c[6])}return r}function m(t,e){if(null==e){var n=!0;if(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform"),!e)return new f;e=d(e)}else e=r._.rgTransform.test(e)?q(e).replace(/\.{3}|…/g,t._.transform||z):d(e),o(e,"array")&&(e=r.path?r.path.toString.call(e):q(e)),t._.transform=e;var i=p(e,t.getBBox(1));return n?i:void(t.matrix=i)}function v(t){var e=r._.someDefs;if(e&&vt(e.ownerDocument.documentElement,e))return e;var n=t.node.ownerSVGElement&&T(t.node.ownerSVGElement)||t.node.parentNode&&T(t.node.parentNode)||r.select("svg")||r(0,0),i=n.select("defs"),o=null==i?!1:i.node;return o||(o=F("defs",n.node).node),r._.someDefs=o,o}function y(t,e,n){function r(t){return null==t?z:t==+t?t:(i(u,{width:t}),u.getBBox().width)}function o(t){return null==t?z:t==+t?t:(i(u,{height:t}),u.getBBox().height)}function a(r,i){null==e?l[r]=i(t.attr(r)):r==e&&(l=i(null==n?t.attr(r):n))}var s=v(t),l={},u=s.querySelector(".svg---mgr");switch(u||(u=i("rect"),i(u,{width:10,height:10,"class":"svg---mgr"}),s.appendChild(u)),t.type){case"rect":a("rx",r),a("ry",o);case"image":a("width",r),a("height",o);case"text":a("x",r),a("y",o);break;case"circle":a("cx",r),a("cy",o),a("r",r);break;case"ellipse":a("cx",r),a("cy",o),a("rx",r),a("ry",o);break;case"line":a("x1",r),a("x2",r),a("y1",o),a("y2",o);break;case"marker":a("refX",r),a("markerWidth",r),a("refY",o),a("markerHeight",o);break;case"radialGradient":a("fx",r),a("fy",o);break;case"tspan":a("dx",r),a("dy",o);break;default:a(e,r)}return l}function b(t){o(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){r.appendChild(t.node)}):r.appendChild(t[e].node);var i=r.childNodes;for(e=0;e<i.length;e++)this[n++]=T(i[e]);return this}function S(t){if(t.snap in st)return st[t.snap];var e,n=this.id=it();try{e=t.ownerSVGElement}catch(r){}if(this.node=t,e&&(this.paper=new A(e)),this.type=t.tagName,this.anims={},this._={transform:[]},t.snap=n,st[n]=this,"g"==this.type){this.add=b;for(var i in A.prototype)A.prototype[V](i)&&(this[i]=A.prototype[i])}}function x(t){for(var e,n=0,r=t.length;r>n;n++)if(e=e||t[n])return e}function w(t){this.node=t}function F(t,e){var n=i(t);e.appendChild(n);var r=T(n);return r.type=t,r}function A(t,e){var n,r,o,a=A.prototype;if(t&&"svg"==t.tagName){if(t.snap in st)return st[t.snap];n=new S(t),r=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],r||(r=i("desc"),r.appendChild(P.doc.createTextNode("Created with Snap")),n.node.appendChild(r)),o||(o=i("defs"),n.node.appendChild(o)),n.defs=o;for(var s in a)a[V](s)&&(n[s]=a[s]);n.paper=n.root=n}else n=F("svg",P.doc.body),i(n.node,{height:e,version:1.1,width:t,xmlns:at});return n}function T(t){return t?t instanceof S||t instanceof w?t:"svg"==t.tagName?new A(t):new S(t):t}function C(){return this.selectAll("stop")}function k(t,e){var n=i("stop"),o={offset:+e+"%"};return t=r.color(t),o["stop-color"]=t.hex,t.opacity<1&&(o["stop-opacity"]=t.opacity),i(n,o),this.node.appendChild(n),this}function M(){if("linearGradient"==this.type){var t=i(this.node,"x1")||0,e=i(this.node,"x2")||1,n=i(this.node,"y1")||0,o=i(this.node,"y2")||0;return r._.box(t,n,_.abs(e-t),_.abs(o-n))}var a=this.node.cx||.5,s=this.node.cy||.5,l=this.node.r||0;return r._.box(a-l,s-l,2*l,2*l)}function L(t,n){function r(t,e){for(var n=(e-u)/(t-h),r=h;t>r;r++)s[r].offset=+(+u+n*(r-h)).toFixed(2);h=t,u=e}var o,a=x(e("snap.util.grad.parse",null,n));if(!a)return null;a.params.unshift(t),o="l"==a.type.toLowerCase()?B.apply(0,a.params):R.apply(0,a.params),a.type!=a.type.toLowerCase()&&i(o.node,{gradientUnits:"userSpaceOnUse"});var s=a.stops,l=s.length,u=0,h=0;l--;for(var c=0;l>c;c++)"offset"in s[c]&&r(c,s[c].offset);for(s[l].offset=s[l].offset||100,r(l,s[l].offset),c=0;l>=c;c++){var f=s[c];o.addStop(f.color,f.offset)}return o}function B(t,e,n,r,o){var a=F("linearGradient",t);return a.stops=C,a.addStop=k,a.getBBox=M,null!=e&&i(a.node,{x1:e,y1:n,x2:r,y2:o}),a}function R(t,e,n,r,o,a){var s=F("radialGradient",t);return s.stops=C,s.addStop=k,s.getBBox=M,null!=e&&i(s.node,{cx:e,cy:n,r:r}),null!=o&&null!=a&&i(s.node,{fx:o,fy:a}),s}function E(t){return function(n){if(e.stop(),n instanceof w&&1==n.node.childNodes.length&&("radialGradient"==n.node.firstChild.tagName||"linearGradient"==n.node.firstChild.tagName||"pattern"==n.node.firstChild.tagName)&&(n=n.node.firstChild,v(this).appendChild(n),n=T(n)),n instanceof S)if("radialGradient"==n.type||"linearGradient"==n.type||"pattern"==n.type){n.node.id||i(n.node,{id:n.id});var o=lt(n.node.id)}else o=n.attr(t);else if(o=r.color(n),o.error){var a=L(v(this),n);a?(a.node.id||i(a.node,{id:a.id}),o=lt(a.node.id)):o=n}else o=q(o);var s={};s[t]=o,i(this.node,s),this.node.style[t]=z}}function N(t){for(var e=[],n=t.childNodes,r=0,i=n.length;i>r;r++){var o=n[r];3==o.nodeType&&e.push(o.nodeValue),"tspan"==o.tagName&&e.push(1==o.childNodes.length&&3==o.firstChild.nodeType?o.firstChild.nodeValue:N(o))}return e}r.version="0.2.0",r.toString=function(){return"Snap v"+this.version},r._={};var P={win:t,doc:t.document};r._.glob=P;var V="hasOwnProperty",q=String,D=parseFloat,I=parseInt,_=Math,G=_.max,j=_.min,O=_.abs,H=(_.pow,_.PI),z=(_.round,""),W=" ",U=Object.prototype.toString,X=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|°|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|°|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,Y=/^url\(#?([^)]+)\)$/,K=" \n\f\r   ᠎             　\u2028\u2029",$=new RegExp("[,"+K+"]+"),Z=(new RegExp("["+K+"]","g"),new RegExp("["+K+"]*,["+K+"]*")),J={hs:1,rg:1},Q=new RegExp("([a-z])["+K+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+K+"]*,?["+K+"]*)+)","ig"),tt=new RegExp("([rstm])["+K+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+K+"]*,?["+K+"]*)+)","ig"),et=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+K+"]*,?["+K+"]*","ig"),nt=0,rt="S"+(+new Date).toString(36),it=function(){return rt+(nt++).toString(36)},ot="http://www.w3.org/1999/xlink",at="http://www.w3.org/2000/svg",st={},lt=r.url=function(t){return"url('#"+t+"')"};r._.$=i,r._.id=it,r.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return q(e).replace(t,function(t,e){return n(t,e,r)})}}();var ut=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var r=P.doc.createElement("img"),i=P.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,i.removeChild(r)},r.onerror=t,i.appendChild(r),r.src=e}}();r._.clone=a,r._.cacher=l,r.rad=h,r.deg=c,r.angle=u,r.is=o,r.snapTo=function(t,e,n){if(n=o(n,"finite")?n:10,o(t,"array")){for(var r=t.length;r--;)if(O(t[r]-e)<=n)return t[r]}else{t=+t;var i=e%t;if(n>i)return e-i;if(i>t-n)return e-i+t}return e},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var n=_.sqrt(e(t));t[0]&&(t[0]/=n),t[1]&&(t[1]/=n)}t.add=function(t,e,n,r,i,o){var a,s,l,u,h=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,i],[e,r,o],[0,0,1]];for(t&&t instanceof f&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(u=0,l=0;3>l;l++)u+=c[a][l]*d[l][s];h[a][s]=u}return this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2],this},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){return this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,r){return null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},t.rotate=function(t,e,n){t=h(t),e=e||0,n=n||0;var r=+_.cos(t).toFixed(9),i=+_.sin(t).toFixed(9);return this.add(r,i,-i,r,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[q.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=_.sqrt(e(r[0])),n(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=_.sqrt(e(r[1])),n(r[1]),t.shear/=t.scaley;var i=-r[0][1],o=r[1][1];return 0>o?(t.rotate=c(_.acos(o)),0>i&&(t.rotate=360-t.rotate)):t.rotate=c(_.asin(i)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this.split();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:z)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:z)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:z)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype),r.Matrix=f,r.getRGB=l(function(t){if(!t||(t=q(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:dt};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:dt};if(!(J[V](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=ht(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:dt};var e,n,i,a,s,l,u=t.match(X);return u?(u[2]&&(i=I(u[2].substring(5),16),n=I(u[2].substring(3,5),16),e=I(u[2].substring(1,3),16)),u[3]&&(i=I((s=u[3].charAt(3))+s,16),n=I((s=u[3].charAt(2))+s,16),e=I((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4].split(Z),e=D(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=D(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=D(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(a=D(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),u[5]?(l=u[5].split(Z),e=D(l[0]),"%"==l[0].slice(-1)&&(e/=100),n=D(l[1]),"%"==l[1].slice(-1)&&(n/=100),i=D(l[2]),"%"==l[2].slice(-1)&&(i/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(a=D(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),r.hsb2rgb(e,n,i,a)):u[6]?(l=u[6].split(Z),e=D(l[0]),"%"==l[0].slice(-1)&&(e/=100),n=D(l[1]),"%"==l[1].slice(-1)&&(n/=100),i=D(l[2]),"%"==l[2].slice(-1)&&(i/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(a=D(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),r.hsl2rgb(e,n,i,a)):(e=j(_.round(e),255),n=j(_.round(n),255),i=j(_.round(i),255),a=j(G(a,0),1),u={r:e,g:n,b:i,toString:dt},u.hex="#"+(16777216|i|n<<8|e<<16).toString(16).slice(1),u.opacity=o(a,"finite")?a:1,u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:dt}},r),r.hsb=l(function(t,e,n){return r.hsb2rgb(t,e,n).hex}),r.hsl=l(function(t,e,n){return r.hsl2rgb(t,e,n).hex}),r.rgb=l(function(t,e,n,r){if(o(r,"finite")){var i=_.round;return"rgba("+[i(t),i(e),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var ht=function(t){var e=P.doc.getElementsByTagName("head")[0],n="rgb(255, 0, 0)";return(ht=l(function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var r=P.doc.defaultView.getComputedStyle(e,z).getPropertyValue("color");return r==n?null:r}))(t)},ct=function(){return"hsb("+[this.h,this.s,this.b]+")"},ft=function(){return"hsl("+[this.h,this.s,this.l]+")"},dt=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},pt=function(t,e,n){if(null==e&&o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&o(t,string)){var i=r.getRGB(t);t=i.r,e=i.g,n=i.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},gt=function(t,e,n,i){t=_.round(255*t),e=_.round(255*e),n=_.round(255*n);var a={r:t,g:e,b:n,opacity:o(i,"finite")?i:1,hex:r.rgb(t,e,n),toString:dt};return o(i,"finite")&&(a.opacity=i),a};r.color=function(t){var e;return o(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=r.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):o(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=r.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(o(t,"string")&&(t=r.getRGB(t)),o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=r.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=r.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=dt,t},r.hsb2rgb=function(t,e,n,r){o(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,t=t.h,r=t.o),t*=360;var i,a,s,l,u;return t=t%360/60,u=n*e,l=u*(1-O(t%2-1)),i=a=s=n-u,t=~~t,i+=[u,l,0,0,l,u][t],a+=[l,u,u,l,0,0][t],s+=[0,0,l,u,u,l][t],gt(i,a,s,r)},r.hsl2rgb=function(t,e,n,r){o(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var i,a,s,l,u;return t=t%360/60,u=2*e*(.5>n?n:1-n),l=u*(1-O(t%2-1)),i=a=s=n-u/2,t=~~t,i+=[u,l,0,0,l,u][t],a+=[l,u,u,l,0,0][t],s+=[0,0,l,u,u,l][t],gt(i,a,s,r)},r.rgb2hsb=function(t,e,n){n=pt(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a;return o=G(t,e,n),a=o-j(t,e,n),r=0==a?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:ct}},r.rgb2hsl=function(t,e,n){n=pt(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a,s,l;return a=G(t,e,n),s=j(t,e,n),l=a-s,r=0==l?null:a==t?(e-n)/l:a==e?(n-t)/l+2:(t-e)/l+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==l?0:.5>o?l/(2*o):l/(2-2*o),{h:r,s:i,l:o,toString:ft}},r.parsePathString=function(t){if(!t)return null;var e=r.path(t);if(e.arr)return r.path.clone(e.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return o(t,"array")&&o(t[0],"array")&&(i=r.path.clone(t)),i.length||q(t).replace(Q,function(t,e,r){var o=[],a=e.toLowerCase();if(r.replace(et,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(i.push([e].concat(o.splice(0,2))),a="l",e="m"==e?"l":"L"),"o"==a&&1==o.length&&i.push([e,o[0]]),"r"==a)i.push([e].concat(o));else for(;o.length>=n[a]&&(i.push([e].concat(o.splice(0,n[a]))),n[a]););}),i.toString=r.path.toString,e.arr=r.path.clone(i),i};var mt=r.parseTransformString=function(t){if(!t)return null;var e=[];return o(t,"array")&&o(t[0],"array")&&(e=r.path.clone(t)),e.length||q(t).replace(tt,function(t,n,r){var i=[];n.toLowerCase(),r.replace(et,function(t,e){e&&i.push(+e)}),e.push([n].concat(i))}),e.toString=r.path.toString,e};r._.svgTransform2string=d,r._.rgTransform=new RegExp("^[a-z]["+K+"]*-?\\.?\\d","i"),r._.transform2matrix=p,r._unit2px=y;var vt=P.doc.contains||P.doc.compareDocumentPosition?function(t,e){var n=9==t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t==r||!(!r||1!=r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1};r._.getSomeDefs=v,r.select=function(t){return T(P.doc.querySelector(t))},r.selectAll=function(t){for(var e=P.doc.querySelectorAll(t),n=(r.set||Array)(),i=0;i<e.length;i++)n.push(T(e[i]));return n},function(t){function a(t){function e(t,e){var n=i(t.node,e);n=n&&n.match(a),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(l[n]=(l[n]||[]).concat(function(n){var r={};r[e]=lt(n),i(t.node,r)})))}function n(t){var e=i(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(l[e]=(l[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var r,o=t.selectAll("*"),a=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],l={},u=0,h=o.length;h>u;u++){r=o[u],e(r,"fill"),e(r,"stroke"),e(r,"filter"),e(r,"mask"),e(r,"clip-path"),n(r);var c=i(r.node,"id");c&&(i(r.node,{id:r.id}),s.push({old:c,id:r.id}))}for(u=0,h=s.length;h>u;u++){var f=l[s[u].old];if(f)for(var d=0,p=f.length;p>d;d++)f[d](s[u].id)}}function s(t,e,n){return function(r){var i=r.slice(t,e);return 1==i.length&&(i=i[0]),n?n(i):i}}function l(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(t)for(var i=0,o=n.length;o>i;i++)e+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(t&&(e+=">"),i=0,o=r.length;o>i;i++)3==r[i].nodeType?e+=r[i].nodeValue:1==r[i].nodeType&&(e+=T(r[i]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}t.attr=function(t,n){var r=this;if(r.node,!t)return r;if(o(t,"string")){if(!(arguments.length>1))return x(e("snap.util.getattr."+t,r));var i={};i[t]=n,t=i}for(var a in t)t[V](a)&&e("snap.util.attr."+a,r,t[a]);return r},t.getBBox=function(t){var e=this;if("use"==e.type&&(e=e.original),e.removed)return{};var n=e._;return t?(n.bboxwt=r.path.get[e.type]?r.path.getBBox(e.realPath=r.path.get[e.type](e)):r._.box(e.node.getBBox()),r._.box(n.bboxwt)):(e.realPath=(r.path.get[e.type]||r.path.get.deflt)(e),n.bbox=r.path.getBBox(r.path.map(e.realPath,e.matrix)),r._.box(n.bbox))};var u=function(){return this.string};t.transform=function(t){var e=this._;if(null==t){var n=new f(this.node.getCTM()),r=m(this),o=r.toTransformString(),a=q(r)==q(this.matrix)?e.transform:o;return{string:a,globalMatrix:n,localMatrix:r,diffMatrix:n.clone().add(r.invert()),global:n.toTransformString(),local:o,toString:u}}return t instanceof f&&(t=t.toTransformString()),m(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?i(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?i(this.node,{patternTransform:this.matrix}):i(this.node,{transform:this.matrix})),this},t.parent=function(){return T(this.node.parentNode)},t.append=t.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=T(t),this.node.appendChild(t.node),t.paper=this.paper}return this},t.appendTo=function(t){return t&&(t=T(t),t.append(this)),this},t.prepend=function(t){if(t){t=T(t);var e=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),e&&e.add()}return this},t.prependTo=function(t){return t=T(t),t.prepend(this),this},t.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()}),this.parent().add(),this}t=T(t);var n=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},t.after=function(t){t=T(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},t.insertBefore=function(t){t=T(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},t.insertAfter=function(t){t=T(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},t.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},t.select=function(t){return T(this.node.querySelector(t))},t.selectAll=function(t){for(var e=this.node.querySelectorAll(t),n=(r.set||Array)(),i=0;i<e.length;i++)n.push(T(e[i]));return n},t.asPX=function(t,e){return null==e&&(e=this.attr(t)),+y(this,t,e)},t.use=function(){var t,e=this.node.id;return e||(e=this.id,i(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?F(this.type,this.node.parentNode):F("use",this.node.parentNode),i(t.node,{"xlink:href":"#"+e}),t.original=this,t},t.clone=function(){var t=T(this.node.cloneNode(!0));return i(t.node,"id")&&i(t.node,{id:t.id}),a(t),t.insertAfter(this),t},t.toDefs=function(){var t=v(this);return t.appendChild(this.node),this},t.pattern=function(t,e,n,r){var a=F("pattern",v(this));return null==t&&(t=this.getBBox()),o(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,t=t.x),i(a.node,{x:t,y:e,width:n,height:r,patternUnits:"userSpaceOnUse",id:a.id,viewBox:[t,e,n,r].join(" ")}),a.node.appendChild(this.node),a},t.marker=function(t,e,n,r,a,s){var l=F("marker",v(this));return null==t&&(t=this.getBBox()),o(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,a=t.refX||t.cx,s=t.refY||t.cy,t=t.x),i(l.node,{viewBox:[t,e,n,r].join(W),markerWidth:n,markerHeight:r,orient:"auto",refX:a||0,refY:s||0,id:l.id}),l.node.appendChild(this.node),l};var h=function(t,e,r,i){"function"!=typeof r||r.length||(i=r,r=n.linear),this.attr=t,this.dur=e,r&&(this.easing=r),i&&(this.callback=i)};r.animation=function(t,e,n,r){return new h(t,e,n,r)},t.inAnim=function(){var t=this,e=[];for(var n in t.anims)t.anims[V](n)&&!function(t){e.push({anim:new h(t._attrs,t.dur,t.easing,t._callback),curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[n]);return e},r.animate=function(t,r,i,o,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear);var l=n.time(),u=n(t,r,l,l+o,n.time,i,a);return s&&e.once("mina.finish."+u.id,s),u},t.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;n>e;e++)t[e].stop();return this},t.animate=function(t,r,i,a){"function"!=typeof i||i.length||(a=i,i=n.linear),t instanceof h&&(a=t.callback,i=t.easing,r=i.dur,t=t.attr);var l,u,c,f,d=[],p=[],g={},m=this;for(var v in t)if(t[V](v)){m.equal?(f=m.equal(v,q(t[v])),l=f.from,u=f.to,c=f.f):(l=+m.attr(v),u=+t[v]);var y=o(l,"array")?l.length:1;g[v]=s(d.length,d.length+y,c),d=d.concat(l),p=p.concat(u)}var b=n.time(),S=n(d,p,b,b+r,n.time,function(t){var e={};for(var n in g)g[V](n)&&(e[n]=g[n](t));m.attr(e)},i);return m.anims[S.id]=S,S._attrs=t,S._callback=a,e.once("mina.finish."+S.id,function(){delete m.anims[S.id],a&&a.call(m)}),e.once("mina.stop."+S.id,function(){delete m.anims[S.id]}),m};var c={};t.data=function(t,n){var i=c[this.id]=c[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(r.is(t,"object")){for(var o in t)t[V](o)&&this.data(o,t[o]);return this}return e("snap.data.get."+this.id,this,i[t],t),i[t]}return i[t]=n,e("snap.data.set."+this.id,this,n,t),this},t.removeData=function(t){return null==t?c[this.id]={}:c[this.id]&&delete c[this.id][t],this},t.outerSVG=t.toString=l(1),t.innerSVG=l()}(S.prototype),r.parse=function(t){var e=P.doc.createDocumentFragment(),n=!0,r=P.doc.createElement("div");if(t=q(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),r.innerHTML=t,t=r.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return r.innerHTML=z,new w(e)},w.prototype.select=S.prototype.select,w.prototype.selectAll=S.prototype.selectAll,r.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=P.doc.createDocumentFragment(),n=0,i=t.length;i>n;n++){var o=t[n];o.node&&o.node.nodeType&&e.appendChild(o.node),o.nodeType&&e.appendChild(o),"string"==typeof o&&e.appendChild(r.parse(o).node)}return new w(e)},function(t){t.el=function(t,e){return F(t,this.node).attr(e)},t.rect=function(t,e,n,r,i,a){var s;return null==a&&(a=i),o(t,"object")&&"x"in t?s=t:null!=t&&(s={x:t,y:e,width:n,height:r},null!=i&&(s.rx=i,s.ry=a)),this.el("rect",s)},t.circle=function(t,e,n){var r;return o(t,"object")&&"cx"in t?r=t:null!=t&&(r={cx:t,cy:e,r:n}),this.el("circle",r)},t.image=function(t,e,n,r,a){var s=F("image",this.node);if(o(t,"object")&&"src"in t)s.attr(t);else if(null!=t){var l={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=n&&(l.x=e,l.y=n),null!=r&&null!=a?(l.width=r,l.height=a):ut(t,function(){i(s.node,{width:this.offsetWidth,height:this.offsetHeight})}),i(s.node,l)}return s},t.ellipse=function(t,e,n,r){var i=F("ellipse",this.node);return o(t,"object")&&"cx"in t?i.attr(t):null!=t&&i.attr({cx:t,cy:e,rx:n,ry:r}),i},t.path=function(t){var e=F("path",this.node);return o(t,"object")&&!o(t,"array")?e.attr(t):t&&e.attr({d:t}),e},t.group=t.g=function(e){var n=F("g",this.node);n.add=b;for(var r in t)t[V](r)&&(n[r]=t[r]);return 1==arguments.length&&e&&!e.type?n.attr(e):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},t.text=function(t,e,n){var r=F("text",this.node);return o(t,"object")?r.attr(t):null!=t&&r.attr({x:t,y:e,text:n||""}),r},t.line=function(t,e,n,r){var i=F("line",this.node);return o(t,"object")?i.attr(t):null!=t&&i.attr({x1:t,x2:n,y1:e,y2:r}),i},t.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));
var e=F("polyline",this.node);return o(t,"object")&&!o(t,"array")?e.attr(t):null!=t&&e.attr({points:t}),e},t.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e=F("polygon",this.node);return o(t,"object")&&!o(t,"array")?e.attr(t):null!=t&&e.attr({points:t}),e},function(){t.gradient=function(t){return L(this.defs,t)},t.gradientLinear=function(t,e,n,r){return B(this.defs,t,e,n,r)},t.gradientRadial=function(t,e,n,r,i){return R(this.defs,t,e,n,r,i)},t.toString=function(){var t,e=P.doc.createDocumentFragment(),n=P.doc.createElement("div"),r=this.node.cloneNode(!0);return e.appendChild(n),n.appendChild(r),i(r,{xmlns:at}),t=n.innerHTML,e.removeChild(e.firstChild),t},t.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName&&e.parentNode.removeChild(e),e=t}}()}(A.prototype),r.ajax=function(t,n,r,i){var a=new XMLHttpRequest,s=it();if(a){if(o(n,"function"))i=r,r=n,n=null;else if(o(n,"object")){var l=[];for(var u in n)n.hasOwnProperty(u)&&l.push(encodeURIComponent(u)+"="+encodeURIComponent(n[u]));n=l.join("&")}return a.open(n?"POST":"GET",t,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),n&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r&&(e.once("snap.ajax."+s+".0",r),e.once("snap.ajax."+s+".200",r),e.once("snap.ajax."+s+".304",r)),a.onreadystatechange=function(){4==a.readyState&&e("snap.ajax."+s+"."+a.status,i,a)},4==a.readyState?a:(a.send(n),a)}},r.load=function(t,e,n){r.ajax(t,function(t){var i=r.parse(t.responseText);n?e.call(n,i):e(i)})},e.on("snap.util.attr.mask",function(t){if(t instanceof S||t instanceof w){if(e.stop(),t instanceof w&&1==t.node.childNodes.length&&(t=t.node.firstChild,v(this).appendChild(t),t=T(t)),"mask"==t.type)var n=t;else n=F("mask",v(this)),n.node.appendChild(t.node),!n.node.id&&i(n.node,{id:n.id});i(this.node,{mask:lt(n.id)})}}),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof S||t instanceof w){if(e.stop(),"clipPath"==t.type)var n=t;else n=F("clipPath",v(this)),n.node.appendChild(t.node),!n.node.id&&i(n.node,{id:n.id});i(this.node,{"clip-path":lt(n.id)})}}),e.on("snap.util.attr.fill",E("fill")),e.on("snap.util.attr.stroke",E("stroke"));var yt=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=q(t);var e=t.match(yt);if(!e)return null;var n=e[1],r=e[2],i=e[3];return r=r.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==r.length&&0==r[0]&&(r=[]),i=i.split("-"),i=i.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=t[1]),e}),{type:n,params:r,stops:i}}),e.on("snap.util.attr.d",function(t){e.stop(),o(t,"array")&&o(t[0],"array")&&(t=r.path.toString.call(t)),t=q(t),t.match(/[ruo]/i)&&(t=r.path.toAbsolute(t)),i(this.node,{d:t})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=q(t);for(var n=P.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.viewBox",function(t){var n;n=o(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):o(t,"array")?t.join(" "):t,i(this.node,{viewBox:n}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),i(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var n,r,a;if(!t&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(o(t,"string")){var s=v(this),l=T(s.parentNode).path(t);s.appendChild(l.node),n=l.id,l.attr({id:n})}else t=T(t),t instanceof S&&(n=t.attr("id"),n||(n=t.id,t.attr({id:n})));if(n)if(r=this.textPath,a=this.node,r)r.attr({"xlink:href":"#"+n});else{for(r=i("textPath",{"xlink:href":"#"+n});a.firstChild;)r.appendChild(a.firstChild);a.appendChild(r),this.textPath=T(r)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var n=this.node,r=function(t){var e=i("tspan");if(o(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(r(t[n]));else e.appendChild(P.doc.createTextNode(t));return e.normalize&&e.normalize(),e};n.firstChild;)n.removeChild(n.firstChild);for(var a=r(t);a.firstChild;)n.appendChild(a.firstChild)}e.stop()})(-1);var bt={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var n=e.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=t;var o=n.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),a=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});bt[V](a)?this.node.style[o]=null==t?z:t:i(this.node,r)}),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function t(t){return function(){e.stop();var n=P.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+t);return"none"==n?n:r(P.doc.getElementById(n.match(Y)[1]))}}function n(t){return function(n){e.stop();var r="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==n||!n)return void(this.node.style[r]="none");if("marker"==n.type){var o=n.node.id;return o||i(n.node,{id:n.id}),void(this.node.style[r]=lt(o))}}}e.on("snap.util.getattr.marker-end",t("end"))(-1),e.on("snap.util.getattr.markerEnd",t("end"))(-1),e.on("snap.util.getattr.marker-start",t("start"))(-1),e.on("snap.util.getattr.markerStart",t("start"))(-1),e.on("snap.util.getattr.marker-mid",t("mid"))(-1),e.on("snap.util.getattr.markerMid",t("mid"))(-1),e.on("snap.util.attr.marker-end",n("end"))(-1),e.on("snap.util.attr.markerEnd",n("end"))(-1),e.on("snap.util.attr.marker-start",n("start"))(-1),e.on("snap.util.attr.markerStart",n("start"))(-1),e.on("snap.util.attr.marker-mid",n("mid"))(-1),e.on("snap.util.attr.markerMid",n("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){return"rect"==this.type&&i(this.node,"rx")==i(this.node,"ry")?(e.stop(),i(this.node,"rx")):void 0})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=N(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var t=i(this.node,"viewBox").split($);return r._.box(+t[0],+t[1],+t[2],+t[3])})(-1),e.on("snap.util.getattr.points",function(){var t=i(this.node,"points");return e.stop(),t.split($)}),e.on("snap.util.getattr.path",function(){var t=i(this.node,"d");return e.stop(),t}),e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return bt[V](n)?P.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):i(this.node,t)});var St=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=e.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-o,l=e.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:l}};return r.getElementByPoint=function(t,e){var n=this,r=(n.canvas,P.doc.elementFromPoint(t,e));if(P.win.opera&&"svg"==r.tagName){var i=St(r),o=r.createSVGRect();o.x=t-i.x,o.y=e-i.y,o.width=o.height=1;var a=r.getIntersectionList(o,null);a.length&&(r=a[a.length-1])}return r?T(r):null},r.plugin=function(t){t(r,S,A,P)},P.win.Snap=r,r}();return r.plugin(function(t,e){function n(t){var e=n.ps=n.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[D](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function r(t,e,n,r){return null==t&&(t=e=n=r=0),null==e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:G.min(n,r)/2,r2:G.max(n,r)/2,r0:G.sqrt(n*n+r*r)/2,path:w(t,e,n,r),vb:[t,e,n,r].join(" ")}}function i(){return this.join(",").replace(I,"$1")}function o(t){var e=q(t);return e.toString=i,e}function a(t,e,n,r,i,o,a,s,u){return null==u?d(t,e,n,r,i,o,a,s):l(t,e,n,r,i,o,a,s,p(t,e,n,r,i,o,a,s,u))}function s(n,r){function i(t){return+(+t).toFixed(3)}return t._.cacher(function(t,o,s){t instanceof e&&(t=t.attr("d")),t=R(t);for(var u,h,c,f,d,p="",g={},m=0,v=0,y=t.length;y>v;v++){if(c=t[v],"M"==c[0])u=+c[1],h=+c[2];else{if(f=a(u,h,c[1],c[2],c[3],c[4],c[5],c[6]),m+f>o){if(r&&!g.start){if(d=a(u,h,c[1],c[2],c[3],c[4],c[5],c[6],o-m),p+=["C"+i(d.start.x),i(d.start.y),i(d.m.x),i(d.m.y),i(d.x),i(d.y)],s)return p;g.start=p,p=["M"+i(d.x),i(d.y)+"C"+i(d.n.x),i(d.n.y),i(d.end.x),i(d.end.y),i(c[5]),i(c[6])].join(),m+=f,u=+c[5],h=+c[6];continue}if(!n&&!r)return d=a(u,h,c[1],c[2],c[3],c[4],c[5],c[6],o-m)}m+=f,u=+c[5],h=+c[6]}p+=c.shift()+c}return g.end=p,d=n?m:r?g:l(u,h,c[0],c[1],c[2],c[3],c[4],c[5],1)},null,t._.clone)}function l(t,e,n,r,i,o,a,s,l){var u=1-l,h=z(u,3),c=z(u,2),f=l*l,d=f*l,p=h*t+3*c*l*n+3*u*l*l*i+d*a,g=h*e+3*c*l*r+3*u*l*l*o+d*s,m=t+2*l*(n-t)+f*(i-2*n+t),v=e+2*l*(r-e)+f*(o-2*r+e),y=n+2*l*(i-n)+f*(a-2*i+n),b=r+2*l*(o-r)+f*(s-2*o+r),S=u*t+l*n,x=u*e+l*r,w=u*i+l*a,F=u*o+l*s,A=90-180*G.atan2(m-y,v-b)/j;return{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:S,y:x},end:{x:w,y:F},alpha:A}}function u(e,n,i,o,a,s,l,u){t.is(e,"array")||(e=[e,n,i,o,a,s,l,u]);var h=B.apply(null,e);return r(h.min.x,h.min.y,h.max.x-h.min.x,h.max.y-h.min.y)}function h(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function c(t,e){return t=r(t),e=r(e),h(e,t.x,t.y)||h(e,t.x2,t.y)||h(e,t.x,t.y2)||h(e,t.x2,t.y2)||h(t,e.x,e.y)||h(t,e.x2,e.y)||h(t,e.x,e.y2)||h(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function f(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n}function d(t,e,n,r,i,o,a,s,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var u=l/2,h=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;h>g;g++){var m=u*c[g]+u,v=f(m,t,n,i,a),y=f(m,e,r,o,s),b=v*v+y*y;p+=d[g]*G.sqrt(b)}return u*p}function p(t,e,n,r,i,o,a,s,l){if(!(0>l||d(t,e,n,r,i,o,a,s)<l)){var u,h=1,c=h/2,f=h-c,p=.01;for(u=d(t,e,n,r,i,o,a,s,f);W(u-l)>p;)c/=2,f+=(l>u?1:-1)*c,u=d(t,e,n,r,i,o,a,s,f);return f}}function g(t,e,n,r,i,o,a,s){if(!(H(t,n)<O(i,a)||O(t,n)>H(i,a)||H(e,r)<O(o,s)||O(e,r)>H(o,s))){var l=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),u=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),h=(t-n)*(o-s)-(e-r)*(i-a);if(h){var c=l/h,f=u/h,d=+c.toFixed(2),p=+f.toFixed(2);if(!(d<+O(t,n).toFixed(2)||d>+H(t,n).toFixed(2)||d<+O(i,a).toFixed(2)||d>+H(i,a).toFixed(2)||p<+O(e,r).toFixed(2)||p>+H(e,r).toFixed(2)||p<+O(o,s).toFixed(2)||p>+H(o,s).toFixed(2)))return{x:c,y:f}}}}function m(t,e,n){var r=u(t),i=u(e);if(!c(r,i))return n?0:[];for(var o=d.apply(0,t),a=d.apply(0,e),s=~~(o/5),h=~~(a/5),f=[],p=[],m={},v=n?0:[],y=0;s+1>y;y++){var b=l.apply(0,t.concat(y/s));f.push({x:b.x,y:b.y,t:y/s})}for(y=0;h+1>y;y++)b=l.apply(0,e.concat(y/h)),p.push({x:b.x,y:b.y,t:y/h});for(y=0;s>y;y++)for(var S=0;h>S;S++){var x=f[y],w=f[y+1],F=p[S],A=p[S+1],T=W(w.x-x.x)<.001?"y":"x",C=W(A.x-F.x)<.001?"y":"x",k=g(x.x,x.y,w.x,w.y,F.x,F.y,A.x,A.y);if(k){if(m[k.x.toFixed(4)]==k.y.toFixed(4))continue;m[k.x.toFixed(4)]=k.y.toFixed(4);var M=x.t+W((k[T]-x[T])/(w[T]-x[T]))*(w.t-x.t),L=F.t+W((k[C]-F[C])/(A[C]-F[C]))*(A.t-F.t);M>=0&&1>=M&&L>=0&&1>=L&&(n?v++:v.push({x:k.x,y:k.y,t1:M,t2:L}))}}return v}function v(t,e){return b(t,e)}function y(t,e){return b(t,e,1)}function b(t,e,n){t=R(t),e=R(e);for(var r,i,o,a,s,l,u,h,c,f,d=n?0:[],p=0,g=t.length;g>p;p++){var v=t[p];if("M"==v[0])r=s=v[1],i=l=v[2];else{"C"==v[0]?(c=[r,i].concat(v.slice(1)),r=c[6],i=c[7]):(c=[r,i,r,i,s,l,s,l],r=s,i=l);for(var y=0,b=e.length;b>y;y++){var S=e[y];if("M"==S[0])o=u=S[1],a=h=S[2];else{"C"==S[0]?(f=[o,a].concat(S.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,u,h,u,h],o=u,a=h);var x=m(c,f,n);if(n)d+=x;else{for(var w=0,F=x.length;F>w;w++)x[w].segment1=p,x[w].segment2=y,x[w].bez1=c,x[w].bez2=f;d=d.concat(x)}}}}}return d}function S(t,e,n){var r=x(t);return h(r,e,n)&&b(t,[["M",e,n],["H",r.x2+10]],1)%2==1}function x(t){var e=n(t);if(e.bbox)return q(e.bbox);if(!t)return r();t=R(t);for(var i,o=0,a=0,s=[],l=[],u=0,h=t.length;h>u;u++)if(i=t[u],"M"==i[0])o=i[1],a=i[2],s.push(o),l.push(a);else{var c=B(o,a,i[1],i[2],i[3],i[4],i[5],i[6]);s=s.concat(c.min.x,c.max.x),l=l.concat(c.min.y,c.max.y),o=i[5],a=i[6]}var f=O.apply(0,s),d=O.apply(0,l),p=H.apply(0,s),g=H.apply(0,l),m=r(f,d,p-f,g-d);return e.bbox=q(m),m}function w(t,e,n,r,o){if(o)return[["M",t+o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.toString=i,a}function F(t,e,n,r,o){if(null==o&&null==r&&(r=n),null!=o)var a=Math.PI/180,s=t+n*Math.cos(-r*a),l=t+n*Math.cos(-o*a),u=e+n*Math.sin(-r*a),h=e+n*Math.sin(-o*a),c=[["M",s,u],["A",n,n,0,+(o-r>180),0,l,h]];else c=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return c.toString=i,c}function A(e){var r=n(e),a=String.prototype.toLowerCase;if(r.rel)return o(r.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var s=[],l=0,u=0,h=0,c=0,f=0;"M"==e[0][0]&&(l=e[0][1],u=e[0][2],h=l,c=u,f++,s.push(["M",l,u]));for(var d=f,p=e.length;p>d;d++){var g=s[d]=[],m=e[d];if(m[0]!=a.call(m[0]))switch(g[0]=a.call(m[0]),g[0]){case"a":g[1]=m[1],g[2]=m[2],g[3]=m[3],g[4]=m[4],g[5]=m[5],g[6]=+(m[6]-l).toFixed(3),g[7]=+(m[7]-u).toFixed(3);break;case"v":g[1]=+(m[1]-u).toFixed(3);break;case"m":h=m[1],c=m[2];default:for(var v=1,y=m.length;y>v;v++)g[v]=+(m[v]-(v%2?l:u)).toFixed(3)}else{g=s[d]=[],"m"==m[0]&&(h=m[1]+l,c=m[2]+u);for(var b=0,S=m.length;S>b;b++)s[d][b]=m[b]}var x=s[d].length;switch(s[d][0]){case"z":l=h,u=c;break;case"h":l+=+s[d][x-1];break;case"v":u+=+s[d][x-1];break;default:l+=+s[d][x-2],u+=+s[d][x-1]}}return s.toString=i,r.rel=o(s),s}function T(e){var r=n(e);if(r.abs)return o(r.abs);if(V(e,"array")&&V(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var a,s=[],l=0,u=0,h=0,c=0,f=0;"M"==e[0][0]&&(l=+e[0][1],u=+e[0][2],h=l,c=u,f++,s[0]=["M",l,u]);for(var d,p,g=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),m=f,v=e.length;v>m;m++){if(s.push(d=[]),p=e[m],a=p[0],a!=a.toUpperCase())switch(d[0]=a.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+(p[6]+l),d[7]=+(p[7]+u);break;case"V":d[1]=+p[1]+u;break;case"H":d[1]=+p[1]+l;break;case"R":for(var y=[l,u].concat(p.slice(1)),b=2,S=y.length;S>b;b++)y[b]=+y[b]+l,y[++b]=+y[b]+u;s.pop(),s=s.concat(N(y,g));break;case"O":s.pop(),y=F(l,u,p[1],p[2]),y.push(y[0]),s=s.concat(y);break;case"U":s.pop(),s=s.concat(F(l,u,p[1],p[2],p[3])),d=["U"].concat(s[s.length-1].slice(-2));break;case"M":h=+p[1]+l,c=+p[2]+u;default:for(b=1,S=p.length;S>b;b++)d[b]=+p[b]+(b%2?l:u)}else if("R"==a)y=[l,u].concat(p.slice(1)),s.pop(),s=s.concat(N(y,g)),d=["R"].concat(p.slice(-2));else if("O"==a)s.pop(),y=F(l,u,p[1],p[2]),y.push(y[0]),s=s.concat(y);else if("U"==a)s.pop(),s=s.concat(F(l,u,p[1],p[2],p[3])),d=["U"].concat(s[s.length-1].slice(-2));else for(var x=0,w=p.length;w>x;x++)d[x]=p[x];if(a=a.toUpperCase(),"O"!=a)switch(d[0]){case"Z":l=h,u=c;break;case"H":l=d[1];break;case"V":u=d[1];break;case"M":h=d[d.length-2],c=d[d.length-1];default:l=d[d.length-2],u=d[d.length-1]}}return s.toString=i,r.abs=o(s),s}function C(t,e,n,r){return[t,e,n,r,n,r]}function k(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}function M(e,n,r,i,o,a,s,l,u,h){var c,f=120*j/180,d=j/180*(+o||0),p=[],g=t._.cacher(function(t,e,n){var r=t*G.cos(n)-e*G.sin(n),i=t*G.sin(n)+e*G.cos(n);return{x:r,y:i}});if(h)A=h[0],T=h[1],w=h[2],F=h[3];else{c=g(e,n,-d),e=c.x,n=c.y,c=g(l,u,-d),l=c.x,u=c.y;var m=(G.cos(j/180*o),G.sin(j/180*o),(e-l)/2),v=(n-u)/2,y=m*m/(r*r)+v*v/(i*i);y>1&&(y=G.sqrt(y),r=y*r,i=y*i);var b=r*r,S=i*i,x=(a==s?-1:1)*G.sqrt(W((b*S-b*v*v-S*m*m)/(b*v*v+S*m*m))),w=x*r*v/i+(e+l)/2,F=x*-i*m/r+(n+u)/2,A=G.asin(((n-F)/i).toFixed(9)),T=G.asin(((u-F)/i).toFixed(9));A=w>e?j-A:A,T=w>l?j-T:T,0>A&&(A=2*j+A),0>T&&(T=2*j+T),s&&A>T&&(A-=2*j),!s&&T>A&&(T-=2*j)}var C=T-A;if(W(C)>f){var k=T,L=l,B=u;T=A+f*(s&&T>A?1:-1),l=w+r*G.cos(T),u=F+i*G.sin(T),p=M(l,u,r,i,o,0,s,L,B,[T,k,w,F])}C=T-A;var R=G.cos(A),E=G.sin(A),N=G.cos(T),P=G.sin(T),V=G.tan(C/4),q=4/3*r*V,D=4/3*i*V,I=[e,n],_=[e+q*E,n-D*R],O=[l+q*P,u-D*N],H=[l,u];if(_[0]=2*I[0]-_[0],_[1]=2*I[1]-_[1],h)return[_,O,H].concat(p);p=[_,O,H].concat(p).join().split(",");for(var z=[],U=0,X=p.length;X>U;U++)z[U]=U%2?g(p[U-1],p[U],d).y:g(p[U],p[U+1],d).x;return z}function L(t,e,n,r,i,o,a,s,l){var u=1-l;return{x:z(u,3)*t+3*z(u,2)*l*n+3*u*l*l*i+z(l,3)*a,y:z(u,3)*e+3*z(u,2)*l*r+3*u*l*l*o+z(l,3)*s}}function B(t,e,n,r,i,o,a,s){var l,u=i-2*n+t-(a-2*i+n),h=2*(n-t)-2*(i-n),c=t-n,f=(-h+G.sqrt(h*h-4*u*c))/2/u,d=(-h-G.sqrt(h*h-4*u*c))/2/u,p=[e,s],g=[t,a];return W(f)>"1e12"&&(f=.5),W(d)>"1e12"&&(d=.5),f>0&&1>f&&(l=L(t,e,n,r,i,o,a,s,f),g.push(l.x),p.push(l.y)),d>0&&1>d&&(l=L(t,e,n,r,i,o,a,s,d),g.push(l.x),p.push(l.y)),u=o-2*r+e-(s-2*o+r),h=2*(r-e)-2*(o-r),c=e-r,f=(-h+G.sqrt(h*h-4*u*c))/2/u,d=(-h-G.sqrt(h*h-4*u*c))/2/u,W(f)>"1e12"&&(f=.5),W(d)>"1e12"&&(d=.5),f>0&&1>f&&(l=L(t,e,n,r,i,o,a,s,f),g.push(l.x),p.push(l.y)),d>0&&1>d&&(l=L(t,e,n,r,i,o,a,s,d),g.push(l.x),p.push(l.y)),{min:{x:O.apply(0,g),y:O.apply(0,p)},max:{x:H.apply(0,g),y:H.apply(0,p)}}}function R(t,e){var r=!e&&n(t);if(!e&&r.curve)return o(r.curve);for(var i=T(t),a=e&&T(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=(function(t,e){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(M.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":n=e.x+(e.x-(e.bx||e.x)),r=e.y+(e.y-(e.by||e.y)),t=["C",n,r].concat(t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"].concat(k(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(k(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(C(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(C(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(C(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(C(e.x,e.y,e.X,e.Y))}return t}),h=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),d=H(i.length,a&&a.length||0)}},c=function(t,e,n,r,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],d=H(i.length,a&&a.length||0))},f=0,d=H(i.length,a&&a.length||0);d>f;f++){i[f]=u(i[f],s),h(i,f),a&&(a[f]=u(a[f],l)),a&&h(a,f),c(i,a,s,l,f),c(a,i,l,s,f);var p=i[f],g=a&&a[f],m=p.length,v=a&&g.length;s.x=p[m-2],s.y=p[m-1],s.bx=_(p[m-4])||s.x,s.by=_(p[m-3])||s.y,l.bx=a&&(_(g[v-4])||l.x),l.by=a&&(_(g[v-3])||l.y),l.x=a&&g[v-2],l.y=a&&g[v-1]}return a||(r.curve=o(i)),a?[i,a]:i}function E(t,e){if(!e)return t;var n,r,i,o,a,s,l;for(t=R(t),i=0,a=t.length;a>i;i++)for(l=t[i],o=1,s=l.length;s>o;o+=2)n=e.x(l[o],l[o+1]),r=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=r;return t}function N(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var P=e.prototype,V=t.is,q=t._.clone,D="hasOwnProperty",I=/,?([a-z]),?/gi,_=parseFloat,G=Math,j=G.PI,O=G.min,H=G.max,z=G.pow,W=G.abs,U=s(1),X=s(),Y=s(0,1),K=t._unit2px,$={path:function(t){return t.attr("path")},circle:function(t){var e=K(t);return F(e.cx,e.cy,e.r)},ellipse:function(t){var e=K(t);return F(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=K(t);return w(e.x,e.y,e.width,e.height,e.rx,e.ry)},image:function(t){var e=K(t);return w(e.x,e.y,e.width,e.height)},text:function(t){var e=t.node.getBBox();return w(e.x,e.y,e.width,e.height)},g:function(t){var e=t.node.getBBox();return w(e.x,e.y,e.width,e.height)},symbol:function(t){var e=t.getBBox();return w(e.x,e.y,e.width,e.height)},line:function(t){return"M"+[t.attr("x1"),t.attr("y1"),t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},svg:function(t){var e=t.node.getBBox();return w(e.x,e.y,e.width,e.height)},deflt:function(t){var e=t.node.getBBox();return w(e.x,e.y,e.width,e.height)}};t.path=n,t.path.getTotalLength=U,t.path.getPointAtLength=X,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Y(t,e).end;var r=Y(t,n,1);return e?Y(r,e).end:r},P.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},P.getPointAtLength=function(t){return X(this.attr("d"),t)},P.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=r,t.path.findDotsAtSegment=l,t.path.bezierBBox=u,t.path.isPointInsideBBox=h,t.path.isBBoxIntersect=c,t.path.intersection=v,t.path.intersectionNumber=y,t.path.isPointInside=S,t.path.getBBox=x,t.path.get=$,t.path.toRelative=A,t.path.toAbsolute=T,t.path.toCubic=R,t.path.map=E,t.path.toString=i,t.path.clone=o}),r.plugin(function(t){var e=Math.max,n=Math.min,r=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},i=r.prototype;i.push=function(){for(var t,e,n=0,r=arguments.length;r>n;n++)t=arguments[n],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},i.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},i.forEach=function(t,e){for(var n=0,r=this.items.length;r>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this},i.remove=function(){for(;this.length;)this.pop().remove();return this},i.attr=function(t){for(var e=0,n=this.items.length;n>e;e++)this.items[e].attr(t);return this},i.clear=function(){for(;this.length;)this.pop()},i.splice=function(t,i){t=0>t?e(this.length+t,0):t,i=e(0,n(this.length-t,i));var o,a=[],s=[],l=[];for(o=2;o<arguments.length;o++)l.push(arguments[o]);for(o=0;i>o;o++)s.push(this[t+o]);for(;o<this.length-t;o++)a.push(this[t+o]);var u=l.length;for(o=0;o<u+a.length;o++)this.items[t+o]=this[t+o]=u>o?l[o]:a[o-u];for(o=this.items.length=this.length-=i-u;this[o];)delete this[o++];return new r(s)},i.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},i.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},i.getBBox=function(){for(var t=[],r=[],i=[],o=[],a=this.items.length;a--;)if(!this.items[a].removed){var s=this.items[a].getBBox();t.push(s.x),r.push(s.y),i.push(s.x+s.width),o.push(s.y+s.height)}return t=n.apply(0,t),r=n.apply(0,r),i=e.apply(0,i),o=e.apply(0,o),{x:t,y:r,x2:i,y2:o,width:i-t,height:o-r,cx:t+(i-t)/2,cy:r+(o-r)/2}},i.clone=function(t){t=new r;for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},i.toString=function(){return"Snap‘s set"},i.type="set",t.set=function(){var t=new r;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),r.plugin(function(t,e){function n(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function r(e,r,i){r=c(r).replace(/\.{3}|…/g,e),e=t.parseTransformString(e)||[],r=t.parseTransformString(r)||[];for(var o,a,u,h,f=Math.max(e.length,r.length),d=[],p=[],g=0;f>g;g++){if(u=e[g]||n(r[g]),h=r[g]||n(u),u[0]!=h[0]||"r"==u[0].toLowerCase()&&(u[2]!=h[2]||u[3]!=h[3])||"s"==u[0].toLowerCase()&&(u[3]!=h[3]||u[4]!=h[4])){e=t._.transform2matrix(e,i()),r=t._.transform2matrix(r,i()),d=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],p=[["m",r.a,r.b,r.c,r.d,r.e,r.f]];break}for(d[g]=[],p[g]=[],o=0,a=Math.max(u.length,h.length);a>o;o++)o in u&&(d[g][o]=u[o]),o in h&&(p[g][o]=h[o])}return{from:l(d),to:l(p),f:s(d)}}function i(t){return t}function o(t){return function(e){return+e.toFixed(3)+t}}function a(e){return t.rgb(e[0],e[1],e[2])}function s(t){var e,n,r,i,o,a,s=0,l=[];for(e=0,n=t.length;n>e;e++){for(o="[",a=['"'+t[e][0]+'"'],r=1,i=t[e].length;i>r;r++)a[r]="val["+s++ +"]";o+=a+"]",l[e]=o}return Function("val","return Snap.path.toString.call(["+l+"])")}function l(t){for(var e=[],n=0,r=t.length;r>n;n++)for(var i=1,o=t[n].length;o>i;i++)e.push(t[n][i]);return e}var u={},h=/[a-z]+$/i,c=String;u.stroke=u.fill="colour",e.prototype.equal=function(e,n){var f,d,p=c(this.attr(e)||""),g=this;if(p==+p&&n==+n)return{from:+p,to:+n,f:i};if("colour"==u[e])return f=t.color(p),d=t.color(n),{from:[f.r,f.g,f.b,f.opacity],to:[d.r,d.g,d.b,d.opacity],f:a};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return n instanceof t.Matrix&&(n=n.toTransformString()),t._.rgTransform.test(n)||(n=t._.svgTransform2string(n)),r(p,n,function(){return g.getBBox(1)});if("d"==e||"path"==e)return f=t.path.toCubic(p,n),{from:l(f[0]),to:l(f[1]),f:s(f[0])};if("points"==e)return f=c(p).split(","),d=c(n).split(","),{from:f,to:d,f:function(t){return t}};var m=p.match(h),v=c(n).match(h);return m&&m==v?{from:parseFloat(p),to:parseFloat(n),f:o(m)}:{from:this.asPX(e),to:this.asPX(e,n),f:i}}}),r.plugin(function(t,n,r,i){for(var o=n.prototype,a="hasOwnProperty",s=("createTouch"in i.doc),l=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=function(t){var e="y"==t?"scrollTop":"scrollLeft";return i.doc.documentElement[e]||i.doc.body[e]},c=function(){this.returnValue=!1},f=function(){return this.originalEvent.preventDefault()},d=function(){this.cancelBubble=!0},p=function(){return this.originalEvent.stopPropagation()},g=function(){return i.doc.addEventListener?function(t,e,n,r){var i=s&&u[e]?u[e]:e,o=function(i){var o=h("y"),l=h("x");if(s&&u[a](e))for(var c=0,d=i.targetTouches&&i.targetTouches.length;d>c;c++)if(i.targetTouches[c].target==t||t.contains(i.targetTouches[c].target)){var g=i;i=i.targetTouches[c],i.originalEvent=g,i.preventDefault=f,i.stopPropagation=p;break}var m=i.clientX+l,v=i.clientY+o;return n.call(r,i,m,v)};return e!==i&&t.addEventListener(e,o,!1),t.addEventListener(i,o,!1),function(){return e!==i&&t.removeEventListener(e,o,!1),t.removeEventListener(i,o,!1),!0}}:i.doc.attachEvent?function(t,e,n,r){var o=function(t){t=t||i.win.event;var e=h("y"),o=h("x"),a=t.clientX+o,s=t.clientY+e;return t.preventDefault=t.preventDefault||c,t.stopPropagation=t.stopPropagation||d,n.call(r,t,a,s)};t.attachEvent("on"+e,o);var a=function(){return t.detachEvent("on"+e,o),!0};return a}:void 0}(),m=[],v=function(n){for(var r,i=n.clientX,o=n.clientY,a=h("y"),l=h("x"),u=m.length;u--;){if(r=m[u],s){for(var c,f=n.touches&&n.touches.length;f--;)if(c=n.touches[f],c.identifier==r.el._drag.id||r.el.node.contains(c.target)){i=c.clientX,o=c.clientY,(n.originalEvent?n.originalEvent:n).preventDefault();break}}else n.preventDefault();var d=r.el.node;t._.glob,d.nextSibling,d.parentNode,d.style.display,i+=l,o+=a,e("snap.drag.move."+r.el.id,r.move_scope||r.el,i-r.el._drag.x,o-r.el._drag.y,i,o,n)}},y=function(n){t.unmousemove(v).unmouseup(y);for(var r,i=m.length;i--;)r=m[i],r.el._drag={},e("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);m=[]},b=l.length;b--;)!function(e){t[e]=o[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:g(this.shape||this.node||i.doc,e,n,r||this)})),this},t["un"+e]=o["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&(n[r].f==t||!t))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(l[b]);o.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},o.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var S=[];o.drag=function(n,r,i,o,a,s){function l(l,u,h){(l.originalEvent||l).preventDefault(),this._drag.x=u,this._drag.y=h,this._drag.id=l.identifier,!m.length&&t.mousemove(v).mouseup(y),m.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&e.on("snap.drag.start."+this.id,r),n&&e.on("snap.drag.move."+this.id,n),i&&e.on("snap.drag.end."+this.id,i),e("snap.drag.start."+this.id,a||o||this,u,h,l)}if(!arguments.length){var u;return this.drag(function(t,e){this.attr({transform:u+(u?"T":"t")+[t,e]})},function(){u=this.transform().local})}return this._drag={},S.push({el:this,start:l}),this.mousedown(l),this},o.undrag=function(){for(var n=S.length;n--;)S[n].el==this&&(this.unmousedown(S[n].start),S.splice(n,1),e.unbind("snap.drag.*."+this.id));return!S.length&&t.unmousemove(v).unmouseup(y),this}}),r.plugin(function(t,n,r){var i=(n.prototype,r.prototype),o=/^\s*url\((.+)\)/,a=String,s=t._.$;t.filter={},i.filter=function(e){var r=this;"svg"!=r.type&&(r=r.paper);var i=t.parse(a(e)),o=t._.id(),l=(r.node.offsetWidth,r.node.offsetHeight,s("filter"));return s(l,{id:o,filterUnits:"userSpaceOnUse"}),l.appendChild(i.node),r.defs.appendChild(l),new n(l)},e.on("snap.util.getattr.filter",function(){e.stop();var n=s(this.node,"filter");if(n){var r=a(n).match(o);return r&&t.select(r[1])}}),e.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){e.stop();var i=r.node.id;i||(s(r.node,{id:r.id}),i=r.id),s(this.node,{filter:t.url(i)})}r&&"none"!=r||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,n){null==e&&(e=2);var r=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,r,i){return i=i||"#000",null==r&&(r=4),"string"==typeof r&&(i=r,r=4),null==e&&(e=0,n=2),null==n&&(n=e),i=t.color(i),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:e,dy:n,blur:r})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),
e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),r}),!function(t){var e=/iPhone/i,n=/iPod/i,r=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,s=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,u=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,c=/BB10/i,f=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(t,e){return t.test(e)},v=function(t){var v=t||navigator.userAgent,y=v.split("[FBAN");return"undefined"!=typeof y[1]&&(v=y[0]),this.apple={phone:m(e,v),ipod:m(n,v),tablet:!m(e,v)&&m(r,v),device:m(e,v)||m(n,v)||m(r,v)},this.amazon={phone:m(a,v),tablet:!m(a,v)&&m(s,v),device:m(a,v)||m(s,v)},this.android={phone:m(a,v)||m(i,v),tablet:!m(a,v)&&!m(i,v)&&(m(s,v)||m(o,v)),device:m(a,v)||m(s,v)||m(i,v)||m(o,v)},this.windows={phone:m(l,v),tablet:m(u,v),device:m(l,v)||m(u,v)},this.other={blackberry:m(h,v),blackberry10:m(c,v),opera:m(f,v),firefox:m(p,v),chrome:m(d,v),device:m(h,v)||m(c,v)||m(f,v)||m(p,v)||m(d,v)},this.sevenInch=m(g,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.sevenInch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},y=function(){var t=new v;return t.Class=v,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],t.isMobile=y()):t.isMobile=y()}(this),function(t,e,n){"use strict";function r(t){this.el=t,this.image=this.el.previousElementSibling,this.currentFrame=0,this.totalFrames=90,this.path=[],this.length=[],this.handle=0,this.init()}function i(){var e=l.clientHeight||l.offsetHeight,n=t.innerHeight;return n>e?n:e}function o(){return t.pageYOffset||l.scrollTop}function a(t){var e=0,n=0;do isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return{top:e,left:n}}function s(t,e){var n=t.offsetHeight,r=o(),s=r+i(),l=a(t).top,u=l+n,e=e||0;return s>=l+n*e&&u>=r}var l=t.document.documentElement;t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(),t.cancelAnimFrame=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||function(e){t.clearTimeout(e)}}();var u={getRectLength:function(t){var e=t.getAttribute("width"),n=t.getAttribute("height");return 2*e+2*n},getPolygonLength:function(t){var e=t.getAttribute("points");e=e.split(" ");for(var n,r,i,o,a=null,s=null,l=0,u=0;u<e.length;u++){var h=e[u].split(",");null===a&&null===s?(/(\r\n|\n|\r)/gm.test(h[0])&&(h[0]=h[0].replace(/(\r\n|\n|\r)/gm,""),h[0]=h[0].replace(/\s+/g,"")),/(\r\n|\n|\r)/gm.test(h[1])&&(h[0]=h[1].replace(/(\r\n|\n|\r)/gm,""),h[0]=h[1].replace(/\s+/g,"")),a=h[0],s=h[1],i=h[0],o=h[1]):""!==h[0]&&""!==h[1]&&(/(\r\n|\n|\r)/gm.test(h[0])&&(h[0]=h[0].replace(/(\r\n|\n|\r)/gm,""),h[0]=h[0].replace(/\s+/g,"")),/(\r\n|\n|\r)/gm.test(h[1])&&(h[0]=h[1].replace(/(\r\n|\n|\r)/gm,""),h[0]=h[1].replace(/\s+/g,"")),n=h[0],r=h[1],l+=Math.sqrt(Math.pow(n-a,2)+Math.pow(r-s,2)),a=n,s=r,u===e.length-2&&(l+=Math.sqrt(Math.pow(i-a,2)+Math.pow(o-s,2))))}return l+10},getLineLength:function(t){var e=t.getAttribute("x1"),n=t.getAttribute("x2"),r=t.getAttribute("y1"),i=t.getAttribute("y2"),o=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-r,2));return o},getCircleLength:function(t){var e=t.getAttribute("r"),n=2*Math.PI*e;return n},getPathLength:function(t){var e=t.getTotalLength();return e}};r.prototype.init=function(){var t=this;[].slice.call(t.el.children).forEach(function(e,n){t.path[n]=e;var r;"polygon"===e.tagName?r=u.getPolygonLength(t.path[n]):"path"===e.tagName?r=u.getPathLength(t.path[n]):"rect"===e.tagName?r=u.getRectLength(t.path[n]):"circle"===e.tagName&&(r=u.getCircleLength(t.path[n])),t.length[n]=r,t.path[n].style.strokeDasharray=r+" "+r,t.path[n].style.strokeDashoffset=r})},r.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw())},r.prototype.draw=function(){var e=this,n=this.currentFrame/this.totalFrames;if(n>1)t.cancelAnimFrame(this.handle),this.showImage();else{this.currentFrame++;for(var r=0,i=this.path.length;i>r;r++)this.path[r].style.strokeDashoffset=Math.floor(this.length[r]*(1-n));this.handle=t.requestAnimFrame(function(){e.draw()})}},r.prototype.showImage=function(){var t=this.image,e=this.el;t.classList.add("show"),e.classList.add("hide")};var h=function(t,e,n,r){function i(){var t,e;for(t=h.vertices.length-1;t>=0;t--)e=h.vertices[t],e.anchor=FSS.Vector3.clone(e.position),e.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),e.time=Math.randomInRange(0,Math.PIM2)}function o(){var t,e,n,r,i,o=5;for(t=h.vertices.length-1;t>=0;t--)e=h.vertices[t],n=Math.sin(e.time+e.step[0]*s*.002),r=Math.cos(e.time+e.step[1]*s*.002),i=Math.sin(e.time+e.step[2]*s*.002),FSS.Vector3.set(e.position,.2*h.segmentWidth*n,.1*h.sliceHeight*r,.7*o*i-o),FSS.Vector3.add(e.position,e.anchor);h.dirty=!0}function a(){s=Date.now()-v,isMobile.any||o(),l.render(u),p.animating!==!1&&requestAnimationFrame(a)}var s,l,u,h,c,f,d,p=this,g="1200",m="1000",v=Date.now();p.animating=!1,p.init=function(){l=new FSS.SVGRenderer(t),l.setSize(g,m),p.el=l.element,e.append(l.element),u=new FSS.Scene,c=new FSS.Material(n,r),h=new FSS.Plane(g,m,10,10,t,c),f=new FSS.Mesh(h,c),u.add(f),d=new FSS.Light("#f17f30","#f17f30"),d.setPosition(300*Math.sin(.001),200*Math.cos(5e-4),100),u.add(d),s=Date.now()-v,i(),o(),l.render(u)},p.start=function(){p.animating=!0,a()},p.stop=function(){p.animating=!1},p.setColor=function(t,e){var n;for(c=new FSS.Material(t,e),n=h.triangles.length-1;n>-1;n-=1)h.triangles[n].material=c;a()},p.rippleColor=function(t,e){function n(t){h.triangles[t].material=c,0===t&&setTimeout(function(){a()},10)}var r;for(c=new FSS.Material(t,e),r=h.triangles.length-1;r>-1;r-=1){var i=200+100*Math.sin(.1+Math.abs(h.triangles[r].centroid[0]/h.triangles[r].centroid[1]));setTimeout(n,2*i,r)}},p.init()},c=function(){this.started=!1,this.init=function(){function n(){s=new h(a,l,"#ffffff","#555555")}function r(){var e=t.outerWidth,n=e/c;o.style.webkitTransform="scale("+n+")",o.style.MozTransform="scale("+n+")",o.style.msTransform="scale("+n+")",o.style.oTransform="scale("+n+")",o.style.transform="scale("+n+")"}function i(){isMobile.any||s.start()}var o,a,s,l,u=e.getElementById("welcome"),c=u.clientHeight||u.offsetHeight;this.started=!0,o=e.getElementById("scene"),a=new Snap("#scene"),l=a.select("#meshContainer"),r(),t.addEventListener("resize",r),n(),t.supported!==!1&&i()}},f={init:function(){this.services.init(),this.form.init(),isMobile.any||this.setupMapSVG.init(),this.polyBG.init(),(isMobile.any||l.clientWidth<540)&&this.setupMobileScroll.init()},services:{init:function(){var t=e.getElementById("services");t.classList.add("is-visible"),this.setSVGDashes(),this.scrollServices()},setSVGDashes:function(){function n(t,e){t.setAttribute("data-_box-150p","stroke-dasharray:"+Math.ceil(e)+"px; stroke-dashoffset:"+Math.ceil(e)+"px;"),t.setAttribute("data-_box-250p","stroke-dasharray:"+Math.ceil(e)+"px; stroke-dashoffset:0px;")}function r(e){e.forEach(function(e,i){"polygon"===e.tagName?n(e,u.getPolygonLength(e)):"path"===e.tagName?n(e,u.getPathLength(e)):"line"===e.tagName?n(e,u.getLineLength(e)):"circle"===e.tagName?n(e,u.getCircleLength(e)):"g"===e.tagName&&(t["eleArr"+i]=Array.prototype.slice.call(e.children),r(t["eleArr"+i]))})}var i=e.getElementById("house_scene"),o=Array.prototype.slice.call(i.children);r(o)},scrollServices:function(){function t(){var t=parseInt(r.style.height.replace("px","")),i=parseInt(e.documentElement.clientHeight||e.documentElement.outerHeight);n.style.marginTop=t-i+"px"}var n=e.querySelector(".js-main"),r=e.body;!isMobile.any&&l.clientWidth>540&&(r.classList.remove("no-skrolling"),r.classList.add("is-skrolling"),skrollr.init({constants:{box:"100p"}}),t())}},form:{init:function(){this.floatingLabels(),this.messageCount(),this.svgCheckboxes(),this.formSubmission()},floatingLabels:function(){function t(){var t=this.previousSibling;""!==this.value?t.classList.add(a):t.classList.remove(a)}function n(t){var e=this.previousSibling;"focus"===t.type?e.classList.add(o):e.classList.remove(o)}for(var r=e.querySelectorAll(".input"),i=Array.prototype.slice.call(r),o="is-active",a="is-visible",s=0;s<i.length;s++)i[s].addEventListener("keyup",t,!1),i[s].addEventListener("focus",n,!1),i[s].addEventListener("blur",n,!1)},messageCount:function(){function t(){i=this.value.length,o=r-i,a.innerHTML=o,15>=o?s.classList.add("has-error"):s.classList.remove("has-error")}var n=e.getElementById("message"),r=parseInt(n.getAttribute("maxlength")),i=0,o=0,a=e.querySelector(".js-character-count"),s=e.querySelector(".js-character-element");n.addEventListener("keyup",t,!1),n.addEventListener("blur",t,!1)},svgCheckboxes:function(){if(e.createElement("svg").getAttributeNS){var t=Array.prototype.slice.call(e.querySelectorAll('.checkbox-labels input[type="checkbox"]')),n=["M16.667,62.167c3.109,5.55,7.217,10.591,10.926,15.75 c2.614,3.636,5.149,7.519,8.161,10.853c-0.046-0.051,1.959,2.414,2.692,2.343c0.895-0.088,6.958-8.511,6.014-7.3 c5.997-7.695,11.68-15.463,16.931-23.696c6.393-10.025,12.235-20.373,18.104-30.707C82.004,24.988,84.802,20.601,87,16"],r={speed:.2,easing:"ease-in-out"},i=function(t){var n=e.createElementNS("http://www.w3.org/2000/svg","svg");return t?(n.setAttributeNS(null,"viewBox",t.viewBox),n.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio)):n.setAttributeNS(null,"viewBox","0 0 100 100"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n},o=function(t,e){var n=i(e);t.parentNode.appendChild(n),t.addEventListener("change",function(){t.checked?a(t):s(t)})};t.forEach(function(t){o(t)});var a=function(t){var i,o,a=[],s=t.parentNode.querySelector("svg");i=n,o=r,a.push(e.createElementNS("http://www.w3.org/2000/svg","path"));for(var l=0,u=a.length;u>l;++l){var h=a[l];s.appendChild(h),h.setAttributeNS(null,"d",i[l]);var c=h.getTotalLength();h.style.strokeDasharray=c+" "+c,0===l?h.style.strokeDashoffset=Math.floor(c)-1:h.style.strokeDashoffset=c,h.getBoundingClientRect(),h.style.transition=h.style.WebkitTransition=h.style.MozTransition="stroke-dashoffset "+o.speed+"s "+o.easing+" "+l*o.speed+"s",h.style.strokeDashoffset="0"}},s=function(t){Array.prototype.slice.call(t.parentNode.querySelectorAll("svg > path")).forEach(function(t){t.parentNode.removeChild(t)})}}},formSubmission:function(){function t(t){r.classList.remove(t),i.innerHTML="Send & Get Started"}var n=e.querySelector(".js-contact-form"),r=e.querySelector(".js-submit-button"),i=e.querySelector(".js-submit-content");n.addEventListener("submit",function(e){r.classList.add("is-loading"),r.setAttribute("disabled",""),i.innerHTML="Sending Message...";var o=new FormData(n),a=new XMLHttpRequest;a.open("POST","assets/includes/send_mail.php",!0),a.onload=function(){r.classList.remove("is-loading"),200===a.status?(r.classList.add("is-successful"),i.innerHTML="Message Sent!",r.removeAttribute("disabled"),setTimeout(function(){t("is-successful")},1500)):(r.classList.add("has-error"),i.innerHTML="Message Sending Failed. Please Try Again.",r.removeAttribute("disabled"),setTimeout(function(){t("has-error")},1500))},a.send(o),e.preventDefault()},!1)}},setupMapSVG:{init:function(){var n,i=e.querySelector(".map"),o=e.getElementById("mapSVG"),a=!1,l=new r(o);setTimeout(function(t){return function(){s(t.parentNode)&&l.render()}}(o),250),i.style.height=(o.clientHeight||o.outerHeight)+"px";var u=function(){a||(a=!0,setTimeout(function(){h()},60))},h=function(){s(o.parentNode,.5)&&l.render(),a=!1},c=function(){function t(){h(),n=null}n&&clearTimeout(n),i.style.height=(o.clientHeight||o.offsetHeight)+"px",n=setTimeout(t,200)};t.addEventListener("scroll",u,!1),t.addEventListener("resize",c,!1)}},polyBG:{init:function(){function n(){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function r(){var t=e.getElementById("welcome");t.style.backgroundImage="poly.jpg",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover"}return t.supported=!0,t.replay=!0,n()!==!0?void r():(t.app=new c,void app.init())}},setupMobileScroll:{init:function(){for(var t=["design","develop","market","iterate"],n=0;n<t.length;n++){var r=e.querySelector("#"+t[n]+"_house"),i=e.querySelector(".js-"+t[n]),o=i.querySelector("h4");i.insertBefore(r,o)}}}};t.addEventListener("DOMContentLoaded",function(){f.init()},!1)}(window,document);