/*!
 * sparkhouse
 * we craft high quality ios apps
 * 
 * @author sparkhouse
 * @version 1.0.0
 * Copyright 2015. MIT licensed.
 */
!function(e,t,n){"use strict";function r(n){if(i=t.documentElement,o=t.body,G(),ae=this,n=n||{},he=n.constants||{},n.easing)for(var r in n.easing)X[r]=n.easing[r];be=n.edgeStrategy||"set",fe={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},ue=n.forceHeight!==!1,ue&&(Pe=n.scale||1),de=n.mobileDeceleration||x,ge=n.smoothScrolling!==!1,me=n.smoothScrollingDuration||L,ve={targetTop:ae.getScrollTop()},Ve=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Ve?(ce=t.getElementById(n.skrollrBody||H),ce&&se(),$(),Fe(i,[y,T],[b])):Fe(i,[y,A],[b]),ae.refresh(),Se(e,"resize orientationchange",function(){var e=i.clientWidth,t=i.clientHeight;(t!==Ke||e!==Re)&&(Ke=t,Re=e,ze=!0)});var s=_();return function a(){Z(),Te=s(a)}(),ae}var i,o,s={get:function(){return ae},init:function(e){return ae||new r(e)},VERSION:"0.6.30"},a=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,f="touchstart",u="touchmove",h="touchcancel",d="touchend",p="skrollable",g=p+"-before",m=p+"-between",v=p+"-after",y="skrollr",b="no-"+y,A=y+"-desktop",T=y+"-mobile",S="linear",w=1e3,x=.004,H="skrollr-body",L=200,k="start",E="end",M="center",F="bottom",N="___skrollable_id",q=/^(?:input|textarea|button|select)$/i,C=/^\s+|\s+$/g,I=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,D=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,P=/^(@?[a-z\-]+)\[(\w+)\]$/,B=/-([a-z0-9_])/g,Y=function(e,t){return t.toUpperCase()},W=/[\-+]?[\d]*\.?[\d]+/g,R=/\{\?\}/g,K=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,z=/[a-z\-]+-gradient/g,O="",V="",G=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(o,null);for(var n in t)if(O=n.match(e)||+n==n&&t[n].match(e))break;if(!O)return void(O=V="");O=O[0],"-"===O.slice(0,1)?(V=O,O={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[O]):V="-"+O.toLowerCase()+"-"}},_=function(){var t=e.requestAnimationFrame||e[O.toLowerCase()+"RequestAnimationFrame"],n=Ce();return(Ve||!t)&&(t=function(t){var r=Ce()-n,i=l.max(0,1e3/60-r);return e.setTimeout(function(){n=Ce(),t()},i)}),t},j=function(){var t=e.cancelAnimationFrame||e[O.toLowerCase()+"CancelAnimationFrame"];return(Ve||!t)&&(t=function(t){return e.clearTimeout(t)}),t},X={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(e*t*1.028)/t)}};r.prototype.refresh=function(e){var r,i,o=!1;for(e===n?(o=!0,le=[],Oe=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),r=0,i=e.length;i>r;r++){var s=e[r],a=s,l=[],c=ge,f=be,u=!1;if(o&&N in s&&delete s[N],s.attributes){for(var h=0,d=s.attributes.length;d>h;h++){var g=s.attributes[h];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name)if("data-emit-events"!==g.name){var m=g.name.match(I);if(null!==m){var v={props:g.value,element:s,eventType:g.name.replace(B,Y)};l.push(v);var y=m[1];y&&(v.constant=y.substr(1));var b=m[2];/p$/.test(b)?(v.isPercentage=!0,v.offset=(0|b.slice(0,-1))/100):v.offset=0|b;var A=m[3],T=m[4]||A;A&&A!==k&&A!==E?(v.mode="relative",v.anchors=[A,T]):(v.mode="absolute",A===E?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*Pe))}}else u=!0;else f=g.value;else c="off"!==g.value;else if(a=t.querySelector(g.value),null===a)throw"Unable to find anchor target "+g.value}if(l.length){var S,w,x;!o&&N in s?(x=s[N],S=le[x].styleAttr,w=le[x].classAttr):(x=s[N]=Oe++,S=s.style.cssText,w=Me(s)),le[x]={element:s,styleAttr:S,classAttr:w,anchorTarget:a,keyFrames:l,smoothScrolling:c,edgeStrategy:f,emitEvents:u,lastFrameIndex:-1},Fe(s,[p],[])}}}for(Le(),r=0,i=e.length;i>r;r++){var H=le[e[r][N]];H!==n&&(Q(H),te(H))}return ae},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,o=e.getBoundingClientRect(),s=o.top,a=o.bottom-o.top;return t===F?s-=r:t===M&&(s-=r/2),n===F?s+=a:n===M&&(s+=a/2),s+=ae.getScrollTop(),s+.5|0},r.prototype.animateTo=function(e,t){t=t||{};var r=Ce(),i=ae.getScrollTop(),o=t.duration===n?w:t.duration;return pe={startTop:i,topDiff:e-i,targetTop:e,duration:o,startTime:r,endTime:r+o,easing:X[t.easing||S],done:t.done},pe.topDiff||(pe.done&&pe.done.call(ae,!1),pe=n),ae},r.prototype.stopAnimateTo=function(){pe&&pe.done&&pe.done.call(ae,!0),pe=n},r.prototype.isAnimatingTo=function(){return!!pe},r.prototype.isMobile=function(){return Ve},r.prototype.setScrollTop=function(t,n){return ye=n===!0,Ve?Ge=l.min(l.max(t,0),De):e.scrollTo(0,t),ae},r.prototype.getScrollTop=function(){return Ve?Ge:e.pageYOffset||i.scrollTop||o.scrollTop||0},r.prototype.getMaxScrollTop=function(){return De},r.prototype.on=function(e,t){return fe[e]=t,ae},r.prototype.off=function(e){return delete fe[e],ae},r.prototype.destroy=function(){var e=j();e(Te),xe(),Fe(i,[b],[y,A,T]);for(var t=0,r=le.length;r>t;t++)oe(le[t].element);i.style.overflow=o.style.overflow="",i.style.height=o.style.height="",ce&&s.setStyle(ce,"transform","none"),ae=n,ce=n,fe=n,ue=n,De=0,Pe=1,he=n,de=n,Be="down",Ye=-1,Re=0,Ke=0,ze=!1,pe=n,ge=n,me=n,ve=n,ye=n,Oe=0,be=n,Ve=!1,Ge=0,Ae=n};var $=function(){var r,s,a,c,p,g,m,v,y,b,A,T;Se(i,[f,u,h,d].join(" "),function(e){var i=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(p=i.clientY,g=i.clientX,b=e.timeStamp,q.test(c.tagName)||e.preventDefault(),e.type){case f:r&&r.blur(),ae.stopAnimateTo(),r=c,s=m=p,a=g,y=b;break;case u:q.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),v=p-m,T=b-A,ae.setScrollTop(Ge-v,!0),m=p,A=b;break;default:case h:case d:var o=s-p,S=a-g,w=S*S+o*o;if(49>w){if(!q.test(r.tagName)){r.focus();var x=t.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(x)}return}r=n;var H=v/T;H=l.max(l.min(H,3),-3);var L=l.abs(H/de),k=H*L+.5*de*L*L,E=ae.getScrollTop()-k,M=0;E>De?(M=(De-E)/k,E=De):0>E&&(M=-E/k,E=0),L*=1-M,ae.animateTo(E+.5|0,{easing:"outCubic",duration:L})}}),e.scrollTo(0,0),i.style.overflow=o.style.overflow="hidden"},U=function(){var e,t,n,r,o,s,a,c,f,u,h,d=i.clientHeight,p=ke();for(c=0,f=le.length;f>c;c++)for(e=le[c],t=e.element,n=e.anchorTarget,r=e.keyFrames,o=0,s=r.length;s>o;o++)a=r[o],u=a.offset,h=p[a.constant]||0,a.frame=u,a.isPercentage&&(u*=d,a.frame=u),"relative"===a.mode&&(oe(t),a.frame=ae.relativeToAbsolute(n,a.anchors[0],a.anchors[1])-u,oe(t,!0)),a.frame+=h,ue&&!a.isEnd&&a.frame>De&&(De=a.frame);for(De=l.max(De,Ee()),c=0,f=le.length;f>c;c++){for(e=le[c],r=e.keyFrames,o=0,s=r.length;s>o;o++)a=r[o],h=p[a.constant]||0,a.isEnd&&(a.frame=De-a.offset+h);e.keyFrames.sort(Ie)}},J=function(e,t){for(var n=0,r=le.length;r>n;n++){var i,o,l=le[n],c=l.element,f=l.smoothScrolling?e:t,u=l.keyFrames,h=u.length,d=u[0],y=u[u.length-1],b=f<d.frame,A=f>y.frame,T=b?d:y,S=l.emitEvents,w=l.lastFrameIndex;if(b||A){if(b&&-1===l.edge||A&&1===l.edge)continue;switch(b?(Fe(c,[g],[v,m]),S&&w>-1&&(He(c,d.eventType,Be),l.lastFrameIndex=-1)):(Fe(c,[v],[g,m]),S&&h>w&&(He(c,y.eventType,Be),l.lastFrameIndex=h)),l.edge=b?-1:1,l.edgeStrategy){case"reset":oe(c);continue;case"ease":f=T.frame;break;default:case"set":var x=T.props;for(i in x)a.call(x,i)&&(o=ie(x[i].value),0===i.indexOf("@")?c.setAttribute(i.substr(1),o):s.setStyle(c,i,o));continue}}else 0!==l.edge&&(Fe(c,[p,m],[g,v]),l.edge=0);for(var H=0;h-1>H;H++)if(f>=u[H].frame&&f<=u[H+1].frame){var L=u[H],k=u[H+1];for(i in L.props)if(a.call(L.props,i)){var E=(f-L.frame)/(k.frame-L.frame);E=L.props[i].easing(E),o=re(L.props[i].value,k.props[i].value,E),o=ie(o),0===i.indexOf("@")?c.setAttribute(i.substr(1),o):s.setStyle(c,i,o)}S&&w!==H&&("down"===Be?He(c,L.eventType,Be):He(c,k.eventType,Be),l.lastFrameIndex=H);break}}},Z=function(){ze&&(ze=!1,Le());var e,t,r=ae.getScrollTop(),i=Ce();if(pe)i>=pe.endTime?(r=pe.targetTop,e=pe.done,pe=n):(t=pe.easing((i-pe.startTime)/pe.duration),r=pe.startTop+t*pe.topDiff|0),ae.setScrollTop(r,!0);else if(!ye){var o=ve.targetTop-r;o&&(ve={startTop:Ye,topDiff:r-Ye,targetTop:r,startTime:We,endTime:We+me}),i<=ve.endTime&&(t=X.sqrt((i-ve.startTime)/me),r=ve.startTop+t*ve.topDiff|0)}if(ye||Ye!==r){Be=r>Ye?"down":Ye>r?"up":Be,ye=!1;var a={curTop:r,lastTop:Ye,maxTop:De,direction:Be},l=fe.beforerender&&fe.beforerender.call(ae,a);l!==!1&&(J(r,ae.getScrollTop()),Ve&&ce&&s.setStyle(ce,"transform","translate(0, "+-Ge+"px) "+Ae),Ye=r,fe.render&&fe.render.call(ae,a)),e&&e.call(ae,!1)}We=i},Q=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,o,s,a=e.keyFrames[t],l={};null!==(s=D.exec(a.props));)o=s[1],i=s[2],r=o.match(P),null!==r?(o=r[1],r=r[2]):r=S,i=i.indexOf("!")?ee(i):[i.slice(1)],l[o]={value:i,easing:X[r]};a.props=l}},ee=function(e){var t=[];return K.lastIndex=0,e=e.replace(K,function(e){return e.replace(W,function(e){return e/255*100+"%"})}),V&&(z.lastIndex=0,e=e.replace(z,function(e){return V+e})),e=e.replace(W,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},te=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)ne(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)ne(e.keyFrames[t],r)},ne=function(e,t){var n;for(n in t)a.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},re=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var o=[e[0]];for(r=1;i>r;r++)o[r]=e[r]+(t[r]-e[r])*n;return o},ie=function(e){var t=1;return R.lastIndex=0,e[0].replace(R,function(){return e[t++]})},oe=function(e,t){e=[].concat(e);for(var n,r,i=0,o=e.length;o>i;i++)r=e[i],n=le[r[N]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,Fe(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Me(r),r.style.cssText=n.styleAttr,Fe(r,n.classAttr)))},se=function(){Ae="translateZ(0)",s.setStyle(ce,"transform",Ae);var e=c(ce),t=e.getPropertyValue("transform"),n=e.getPropertyValue(V+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(Ae="")};s.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(B,Y).replace("-",""),"zIndex"===t)isNaN(n)?r[t]=n:r[t]=""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{O&&(r[O+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var ae,le,ce,fe,ue,he,de,pe,ge,me,ve,ye,be,Ae,Te,Se=s.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),r.call(this,t)};n=n.split(" ");for(var o,s=0,a=n.length;a>s;s++)o=n[s],t.addEventListener?t.addEventListener(o,r,!1):t.attachEvent("on"+o,i),_e.push({element:t,name:o,listener:r})},we=s.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,i=t.length;i>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},xe=function(){for(var e,t=0,n=_e.length;n>t;t++)e=_e[t],we(e.element,e.name,e.listener);_e=[]},He=function(e,t,n){fe.keyframe&&fe.keyframe.call(ae,e,t,n)},Le=function(){var e=ae.getScrollTop();De=0,ue&&!Ve&&(o.style.height=""),U(),ue&&!Ve&&(o.style.height=De+i.clientHeight+"px"),Ve?ae.setScrollTop(l.min(ae.getScrollTop(),De)):ae.setScrollTop(e,!0),ye=!0},ke=function(){var e,t,n=i.clientHeight,r={};for(e in he)t=he[e],"function"==typeof t?t=t.call(ae):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},Ee=function(){var e,t=0;return ce&&(t=l.max(ce.offsetHeight,ce.scrollHeight)),e=l.max(t,o.scrollHeight,o.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight),e-i.clientHeight},Me=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},Fe=function(t,r,i){var o="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[o],o="baseVal"),i===n)return void(t[o]=r);for(var s=t[o],a=0,l=i.length;l>a;a++)s=qe(s).replace(qe(i[a])," ");s=Ne(s);for(var c=0,f=r.length;f>c;c++)-1===qe(s).indexOf(qe(r[c]))&&(s+=" "+r[c]);t[o]=Ne(s)},Ne=function(e){return e.replace(C,"")},qe=function(e){return" "+e+" "},Ce=Date.now||function(){return+new Date},Ie=function(e,t){return e.frame-t.frame},De=0,Pe=1,Be="down",Ye=-1,We=Ce(),Re=0,Ke=0,ze=!1,Oe=0,Ve=!1,Ge=0,_e=[];"function"==typeof define&&define.amd?define([],function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:e.skrollr=s}(window,document),!function(e){var t=/iPhone/i,n=/iPod/i,r=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,u=/BB10/i,h=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(e,t){return e.test(t)},v=function(e){var v=e||navigator.userAgent,y=v.split("[FBAN");return"undefined"!=typeof y[1]&&(v=y[0]),this.apple={phone:m(t,v),ipod:m(n,v),tablet:!m(t,v)&&m(r,v),device:m(t,v)||m(n,v)||m(r,v)},this.amazon={phone:m(s,v),tablet:!m(s,v)&&m(a,v),device:m(s,v)||m(a,v)},this.android={phone:m(s,v)||m(i,v),tablet:!m(s,v)&&!m(i,v)&&(m(a,v)||m(o,v)),device:m(s,v)||m(a,v)||m(i,v)||m(o,v)},this.windows={phone:m(l,v),tablet:m(c,v),device:m(l,v)||m(c,v)},this.other={blackberry:m(f,v),blackberry10:m(u,v),opera:m(h,v),firefox:m(p,v),chrome:m(d,v),device:m(f,v)||m(u,v)||m(h,v)||m(p,v)||m(d,v)},this.sevenInch=m(g,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.sevenInch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},y=function(){var e=new v;return e.Class=v,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=y()):e.isMobile=y()}(this),function(e,t,n){"use strict";function r(e){this.el=e,this.image=this.el.previousElementSibling,this.currentFrame=0,this.totalFrames=90,this.path=[],this.length=[],this.handle=0,this.init()}function i(){var t=l.clientHeight||l.offsetHeight,n=e.innerHeight;return n>t?n:t}function o(){return e.pageYOffset||l.scrollTop}function s(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}function a(e,t){var n=e.offsetHeight,r=o(),a=r+i(),l=s(e).top,c=l+n,t=t||0;return a>=l+n*t&&c>=r}var l=e.document.documentElement;e.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),e.cancelAnimFrame=function(){return e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||function(t){e.clearTimeout(t)}}();var c={getRectLength:function(e){var t=e.getAttribute("width"),n=e.getAttribute("height");return 2*t+2*n},getPolygonLength:function(e){var t=e.getAttribute("points");t=t.split(" ");for(var n,r,i,o,s=null,a=null,l=0,c=0;c<t.length;c++){var f=t[c].split(",");null===s&&null===a?(/(\r\n|\n|\r)/gm.test(f[0])&&(f[0]=f[0].replace(/(\r\n|\n|\r)/gm,""),f[0]=f[0].replace(/\s+/g,"")),/(\r\n|\n|\r)/gm.test(f[1])&&(f[0]=f[1].replace(/(\r\n|\n|\r)/gm,""),f[0]=f[1].replace(/\s+/g,"")),s=f[0],a=f[1],i=f[0],o=f[1]):""!==f[0]&&""!==f[1]&&(/(\r\n|\n|\r)/gm.test(f[0])&&(f[0]=f[0].replace(/(\r\n|\n|\r)/gm,""),f[0]=f[0].replace(/\s+/g,"")),/(\r\n|\n|\r)/gm.test(f[1])&&(f[0]=f[1].replace(/(\r\n|\n|\r)/gm,""),f[0]=f[1].replace(/\s+/g,"")),n=f[0],r=f[1],l+=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-a,2)),s=n,a=r,c===t.length-2&&(l+=Math.sqrt(Math.pow(i-s,2)+Math.pow(o-a,2))))}return l+10},getLineLength:function(e){var t=e.getAttribute("x1"),n=e.getAttribute("x2"),r=e.getAttribute("y1"),i=e.getAttribute("y2"),o=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-r,2));return o},getCircleLength:function(e){var t=e.getAttribute("r"),n=2*Math.PI*t;return n},getPathLength:function(e){var t=e.getTotalLength();return t}};r.prototype.init=function(){var e=this;[].slice.call(e.el.children).forEach(function(t,n){e.path[n]=t;var r;"polygon"===t.tagName?r=c.getPolygonLength(e.path[n]):"path"===t.tagName?r=c.getPathLength(e.path[n]):"rect"===t.tagName?r=c.getRectLength(e.path[n]):"circle"===t.tagName&&(r=c.getCircleLength(e.path[n])),e.length[n]=r,e.path[n].style.strokeDasharray=r+" "+r,e.path[n].style.strokeDashoffset=r})},r.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw())},r.prototype.draw=function(){var t=this,n=this.currentFrame/this.totalFrames;if(n>1)e.cancelAnimFrame(this.handle),this.showImage();else{this.currentFrame++;for(var r=0,i=this.path.length;i>r;r++)this.path[r].style.strokeDashoffset=Math.floor(this.length[r]*(1-n));this.handle=e.requestAnimFrame(function(){t.draw()})}},r.prototype.showImage=function(){var e=this.image,t=this.el;e.classList.add("show"),t.classList.add("hide")};var f={init:function(){this.services.init(),this.form.init(),this.setupMapSVG.init(),this.polyBG.init(),(isMobile.any||l.clientWidth<540)&&this.setupMobileScroll.init()},services:{init:function(){var e=t.getElementById("services");e.classList.add("is-visible"),this.setSVGDashes(),this.scrollServices()},setSVGDashes:function(n){function r(e,t){n?(e.setAttribute("stroke-dasharray",Math.ceil(t)),e.setAttribute("stroke-dashoffset",Math.ceil(t))):(e.setAttribute("data-_box-150p","stroke-dasharray:"+Math.ceil(t)+"px; stroke-dashoffset:"+Math.ceil(t)+"px;"),e.setAttribute("data-_box-250p","stroke-dasharray:"+Math.ceil(t)+"px; stroke-dashoffset:0px;"))}function i(t){t.forEach(function(t,n){"polygon"===t.tagName?r(t,c.getPolygonLength(t)):"path"===t.tagName?r(t,c.getPathLength(t)):"line"===t.tagName?r(t,c.getLineLength(t)):"circle"===t.tagName?r(t,c.getCircleLength(t)):"g"===t.tagName&&(e["eleArr"+n]=Array.prototype.slice.call(t.children),i(e["eleArr"+n]))})}var o=t.getElementById("house_scene"),s=Array.prototype.slice.call(o.children);i(s)},scrollServices:function(){function e(){var e=parseInt(r.style.height.replace("px","")),i=parseInt(t.documentElement.clientHeight||t.documentElement.outerHeight);n.style.marginTop=e-i+"px"}var n=t.querySelector(".js-main"),r=t.body;!isMobile.any&&l.clientWidth>540&&(r.classList.remove("no-skrolling"),r.classList.add("is-skrolling"),skrollr.init({constants:{box:"100p"}}),e())}},form:{init:function(){this.floatingLabels(),this.messageCount(),this.svgCheckboxes(),this.formSubmission()},floatingLabels:function(){function e(){var e=this.previousSibling;""!==this.value?e.classList.add(s):e.classList.remove(s)}function n(e){var t=this.previousSibling;"focus"===e.type?t.classList.add(o):t.classList.remove(o)}for(var r=t.querySelectorAll(".input"),i=Array.prototype.slice.call(r),o="is-active",s="is-visible",a=0;a<i.length;a++)i[a].addEventListener("keyup",e,!1),i[a].addEventListener("focus",n,!1),i[a].addEventListener("blur",n,!1)},messageCount:function(){function e(){i=this.value.length,o=r-i,s.innerHTML=o,15>=o?a.classList.add("has-error"):a.classList.remove("has-error")}var n=t.getElementById("message"),r=parseInt(n.getAttribute("maxlength")),i=0,o=0,s=t.querySelector(".js-character-count"),a=t.querySelector(".js-character-element");n.addEventListener("keyup",e,!1),n.addEventListener("blur",e,!1)},svgCheckboxes:function(){if(t.createElement("svg").getAttributeNS){var e=Array.prototype.slice.call(t.querySelectorAll('.checkbox-labels input[type="checkbox"]')),n=["M16.667,62.167c3.109,5.55,7.217,10.591,10.926,15.75 c2.614,3.636,5.149,7.519,8.161,10.853c-0.046-0.051,1.959,2.414,2.692,2.343c0.895-0.088,6.958-8.511,6.014-7.3 c5.997-7.695,11.68-15.463,16.931-23.696c6.393-10.025,12.235-20.373,18.104-30.707C82.004,24.988,84.802,20.601,87,16"],r={speed:.2,easing:"ease-in-out"},i=function(e){var n=t.createElementNS("http://www.w3.org/2000/svg","svg");return e?(n.setAttributeNS(null,"viewBox",e.viewBox),n.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio)):n.setAttributeNS(null,"viewBox","0 0 100 100"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n},o=function(e,t){var n=i(t);e.parentNode.appendChild(n),e.addEventListener("change",function(){e.checked?s(e):a(e)})};e.forEach(function(e){o(e)});var s=function(e){var i,o,s=[],a=e.parentNode.querySelector("svg");i=n,o=r,s.push(t.createElementNS("http://www.w3.org/2000/svg","path"));for(var l=0,c=s.length;c>l;++l){var f=s[l];a.appendChild(f),f.setAttributeNS(null,"d",i[l]);var u=f.getTotalLength();f.style.strokeDasharray=u+" "+u,0===l?f.style.strokeDashoffset=Math.floor(u)-1:f.style.strokeDashoffset=u,f.getBoundingClientRect(),f.style.transition=f.style.WebkitTransition=f.style.MozTransition="stroke-dashoffset "+o.speed+"s "+o.easing+" "+l*o.speed+"s",f.style.strokeDashoffset="0"}},a=function(e){Array.prototype.slice.call(e.parentNode.querySelectorAll("svg > path")).forEach(function(e){e.parentNode.removeChild(e)})}}},formSubmission:function(){function e(e){r.classList.remove(e),i.innerHTML="Send & Get Started"}var n=t.querySelector(".js-contact-form"),r=t.querySelector(".js-submit-button"),i=t.querySelector(".js-submit-content");n.addEventListener("submit",function(t){r.classList.add("is-loading"),r.setAttribute("disabled",""),i.innerHTML="Sending Message...";var o=new FormData(n),s=new XMLHttpRequest;s.open("POST","assets/includes/send_mail.php",!0),s.onload=function(){r.classList.remove("is-loading"),200===s.status?(r.classList.add("is-successful"),i.innerHTML="Message Sent!",r.removeAttribute("disabled"),setTimeout(function(){e("is-successful")},1500)):(r.classList.add("has-error"),i.innerHTML="Message Sending Failed. Please Try Again.",r.removeAttribute("disabled"),setTimeout(function(){e("has-error")},1500))},s.send(o),t.preventDefault()},!1)}},setupMapSVG:{init:function(){var n,i=t.querySelector(".map"),o=t.getElementById("mapSVG"),s=!1,l=new r(o);setTimeout(function(e){return function(){a(e.parentNode)&&l.render()}}(o),250),i.style.height=(o.clientHeight||o.outerHeight)+"px";var c=function(){s||(s=!0,setTimeout(function(){f()},60))},f=function(){a(o.parentNode,.5)&&l.render(),s=!1},u=function(){function e(){f(),n=null}n&&clearTimeout(n),i.style.height=(o.clientHeight||o.offsetHeight)+"px",n=setTimeout(e,200)};e.addEventListener("scroll",c,!1),e.addEventListener("resize",u,!1)}},polyBG:{init:function(){function n(){var n=t.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",e.innerWidth),n.setAttribute("height","100%"),t.querySelector("#welcome").appendChild(n);var o=(e.innerWidth+e.innerHeight)/20;a=Math.ceil(e.innerWidth/o)+1,l=Math.ceil(e.innerHeight/o)+1,c=Math.ceil(e.innerWidth/(a-1)),f=Math.ceil(e.innerHeight/(l-1)),u=[];for(var s=0;l>s;s++)for(var d=0;a>d;d++)u.push({x:c*d,y:f*s,originX:c*d,originY:f*s});r();for(var p=0;p<u.length;p++)if(u[p].originX!=c*(a-1)&&u[p].originY!=f*(l-1))for(var g=u[p].x,m=u[p].y,v=u[p+1].x,y=u[p+1].y,b=u[p+a].x,A=u[p+a].y,T=u[p+a+1].x,S=u[p+a+1].y,w=Math.floor(2*Math.random()),x=0;2>x;x++){var H=t.createElementNS(n.namespaceURI,"polygon");0==w?0==x?(H.point1=p,H.point2=p+a,H.point3=p+a+1,H.setAttribute("points",g+","+m+" "+b+","+A+" "+T+","+S)):1==x&&(H.point1=p,H.point2=p+1,H.point3=p+a+1,H.setAttribute("points",g+","+m+" "+v+","+y+" "+T+","+S)):1==w&&(0==x?(H.point1=p,H.point2=p+a,H.point3=p+1,H.setAttribute("points",g+","+m+" "+b+","+A+" "+v+","+y)):1==x&&(H.point1=p+a,H.point2=p+1,H.point3=p+a+1,H.setAttribute("points",b+","+A+" "+v+","+y+" "+T+","+S))),H.setAttribute("fill","rgba(0,0,0,"+Math.random()/3+")");var L=t.createElementNS("http://www.w3.org/2000/svg","animate");L.setAttribute("fill","freeze"),L.setAttribute("attributeName","points"),L.setAttribute("dur",h+"ms"),L.setAttribute("calcMode","linear"),H.appendChild(L),n.appendChild(H)}i()}function r(){for(var e=0;e<u.length;e++)0!=u[e].originX&&u[e].originX!=c*(a-1)&&(u[e].x=u[e].originX+Math.random()*c-c/2),0!=u[e].originY&&u[e].originY!=f*(l-1)&&(u[e].y=u[e].originY+Math.random()*f-f/2)}function i(e){r();for(var n=0;n<t.querySelector("#welcome svg").childNodes.length;n++){var o=t.querySelector("#welcome svg").childNodes[n],a=o.childNodes[0];a.getAttribute("to")&&a.setAttribute("from",a.getAttribute("to")),a.setAttribute("to",u[o.point1].x+","+u[o.point1].y+" "+u[o.point2].x+","+u[o.point2].y+" "+u[o.point3].x+","+u[o.point3].y),a.beginElement()}s=setTimeout(function(){i()},h)}function o(){t.querySelector("#welcome svg").remove(),clearTimeout(s),n()}var s,a,l,c,f,u,h=1e4;n(),e.addEventListener("resize",o,!1)}},setupMobileScroll:{init:function(){function n(e){e.classList.contains("is-visible")||(H(),e.classList.add("is-visible"))}f.services.setSVGDashes(!0);var r=t.querySelector(".service-image-wrap"),i=t.querySelector(".service-image"),o=Array.prototype.slice.call(t.querySelectorAll(".service-image img")),s=t.querySelector(".service-image img:first-of-type"),a=t.querySelector(".service-image img:last-of-type"),c=s.clientHeight||s.offsetHeight,u=r.getBoundingClientRect().top,h=t.querySelector(".js-main"),d=t.querySelector(".service-text-wrap"),p=t.querySelector(".service-text:nth-child(1)"),g=t.querySelector(".service-text:nth-child(2)"),m=t.querySelector(".service-text:nth-child(3)"),v=t.querySelector(".service-text:nth-child(4)"),y=!1,b=t.getElementById("house_blueprint"),A=Array.prototype.slice.call(t.querySelectorAll("#house_scene [stroke-dasharray]")),T=80;setTimeout(function(t){return function(){e.scrollY>=u-(l.clientHeight||l.offsetHeight)/2&&e.scrollY<=h.offsetTop-u?t.classList.add("is-fixed"):t.classList.remove("is-fixed")}}(r),250);var S=function(){y||(y=!0,setTimeout(function(){w()},60))},w=function(){e.scrollY>=u-(l.clientHeight||l.offsetHeight)/2&&e.scrollY<=h.offsetTop-u?r.classList.add("is-fixed"):r.classList.remove("is-fixed"),e.scrollY>=g.offsetTop&&e.scrollY<=g.offsetTop+(g.clientHeight||g.offsetHeight)+(l.clientHeight||l.offsetHeight)?d.classList.add("has-overlay"):e.scrollY>=m.offsetTop&&e.scrollY<=m.offsetTop+(m.clientHeight||m.offsetHeight)+(l.clientHeight||l.offsetHeight)?d.classList.add("has-overlay"):e.scrollY>=v.offsetTop&&e.scrollY<=v.offsetTop+(v.clientHeight||v.offsetHeight)+(l.clientHeight||l.offsetHeight)?d.classList.add("has-overlay"):d.classList.remove("has-overlay"),e.scrollY>=p.offsetTop+(p.clientHeight||p.offsetHeight)+(l.clientHeight||l.offsetHeight)&&n(i),e.scrollY>=g.offsetTop+(g.clientHeight||g.offsetHeight)+(l.clientHeight||l.offsetHeight)&&x(),e.scrollY>=m.offsetTop+(m.clientHeight||m.offsetHeight)+(l.clientHeight||l.offsetHeight)+T&&n(s),e.scrollY>=v.offsetTop+(v.clientHeight||v.offsetHeight)+(l.clientHeight||l.offsetHeight)+T&&n(a),y=!1},x=function(){var e=!1;return function(){e||(e=!0,A.forEach(function(e,t){function n(t,r){r-=10,0>r&&(r=0),e.setAttribute("stroke-dashoffset",r),r>0&&setTimeout(function(){n(t,r)},45)}var r=e.getAttribute("stroke-dashoffset");n(e,r)}))}}(),H=function(){c=s.clientHeight||s.offsetHeight,s.style.top=((b.clientHeight||b.offsetHeight)-c)/2+"px",a.style.top=((b.clientHeight||b.offsetHeight)-c)/2+"px"};H(o),e.addEventListener("scroll",S,!1),e.addEventListener("resize",H,!1)}}};e.addEventListener("DOMContentLoaded",function(){f.init()},!1)}(window,document);