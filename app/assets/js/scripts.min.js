/*!
 * sparkhouse
 * we craft high quality ios apps
 * 
 * @author sparkhouse
 * @version 1.0.0
 * Copyright 2015. MIT licensed.
 */
!function(e,t,n){"use strict";function r(n){if(i=t.documentElement,o=t.body,G(),ae=this,n=n||{},de=n.constants||{},n.easing)for(var r in n.easing)$[r]=n.easing[r];be=n.edgeStrategy||"set",ue={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},fe=n.forceHeight!==!1,fe&&(Pe=n.scale||1),he=n.mobileDeceleration||L,ge=n.smoothScrolling!==!1,me=n.smoothScrollingDuration||x,ve={targetTop:ae.getScrollTop()},We=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),We?(ce=t.getElementById(n.skrollrBody||k),ce&&se(),U(),He(i,[y,S],[b])):He(i,[y,T],[b]),ae.refresh(),Ae(e,"resize orientationchange",function(){var e=i.clientWidth,t=i.clientHeight;(t!==Oe||e!==Re)&&(Oe=t,Re=e,Ve=!0)});var s=_();return function a(){Z(),Se=s(a)}(),ae}var i,o,s={get:function(){return ae},init:function(e){return ae||new r(e)},VERSION:"0.6.30"},a=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,u="touchstart",f="touchmove",d="touchcancel",h="touchend",p="skrollable",g=p+"-before",m=p+"-between",v=p+"-after",y="skrollr",b="no-"+y,T=y+"-desktop",S=y+"-mobile",A="linear",w=1e3,L=.004,k="skrollr-body",x=200,F="start",E="end",M="center",H="bottom",q="___skrollable_id",N=/^(?:input|textarea|button|select)$/i,C=/^\s+|\s+$/g,I=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,D=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,P=/^(@?[a-z\-]+)\[(\w+)\]$/,B=/-([a-z0-9_])/g,Y=function(e,t){return t.toUpperCase()},K=/[\-+]?[\d]*\.?[\d]+/g,R=/\{\?\}/g,O=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,V=/[a-z\-]+-gradient/g,z="",W="",G=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(o,null);for(var n in t)if(z=n.match(e)||+n==n&&t[n].match(e))break;if(!z)return void(z=W="");z=z[0],"-"===z.slice(0,1)?(W=z,z={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[z]):W="-"+z.toLowerCase()+"-"}},_=function(){var t=e.requestAnimationFrame||e[z.toLowerCase()+"RequestAnimationFrame"],n=Ce();return(We||!t)&&(t=function(t){var r=Ce()-n,i=l.max(0,1e3/60-r);return e.setTimeout(function(){n=Ce(),t()},i)}),t},j=function(){var t=e.cancelAnimationFrame||e[z.toLowerCase()+"CancelAnimationFrame"];return(We||!t)&&(t=function(t){return e.clearTimeout(t)}),t},$={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(e*t*1.028)/t)}};r.prototype.refresh=function(e){var r,i,o=!1;for(e===n?(o=!0,le=[],ze=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),r=0,i=e.length;i>r;r++){var s=e[r],a=s,l=[],c=ge,u=be,f=!1;if(o&&q in s&&delete s[q],s.attributes){for(var d=0,h=s.attributes.length;h>d;d++){var g=s.attributes[d];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name)if("data-emit-events"!==g.name){var m=g.name.match(I);if(null!==m){var v={props:g.value,element:s,eventType:g.name.replace(B,Y)};l.push(v);var y=m[1];y&&(v.constant=y.substr(1));var b=m[2];/p$/.test(b)?(v.isPercentage=!0,v.offset=(0|b.slice(0,-1))/100):v.offset=0|b;var T=m[3],S=m[4]||T;T&&T!==F&&T!==E?(v.mode="relative",v.anchors=[T,S]):(v.mode="absolute",T===E?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*Pe))}}else f=!0;else u=g.value;else c="off"!==g.value;else if(a=t.querySelector(g.value),null===a)throw"Unable to find anchor target "+g.value}if(l.length){var A,w,L;!o&&q in s?(L=s[q],A=le[L].styleAttr,w=le[L].classAttr):(L=s[q]=ze++,A=s.style.cssText,w=Me(s)),le[L]={element:s,styleAttr:A,classAttr:w,anchorTarget:a,keyFrames:l,smoothScrolling:c,edgeStrategy:u,emitEvents:f,lastFrameIndex:-1},He(s,[p],[])}}}for(xe(),r=0,i=e.length;i>r;r++){var k=le[e[r][q]];k!==n&&(Q(k),te(k))}return ae},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,o=e.getBoundingClientRect(),s=o.top,a=o.bottom-o.top;return t===H?s-=r:t===M&&(s-=r/2),n===H?s+=a:n===M&&(s+=a/2),s+=ae.getScrollTop(),s+.5|0},r.prototype.animateTo=function(e,t){t=t||{};var r=Ce(),i=ae.getScrollTop(),o=t.duration===n?w:t.duration;return pe={startTop:i,topDiff:e-i,targetTop:e,duration:o,startTime:r,endTime:r+o,easing:$[t.easing||A],done:t.done},pe.topDiff||(pe.done&&pe.done.call(ae,!1),pe=n),ae},r.prototype.stopAnimateTo=function(){pe&&pe.done&&pe.done.call(ae,!0),pe=n},r.prototype.isAnimatingTo=function(){return!!pe},r.prototype.isMobile=function(){return We},r.prototype.setScrollTop=function(t,n){return ye=n===!0,We?Ge=l.min(l.max(t,0),De):e.scrollTo(0,t),ae},r.prototype.getScrollTop=function(){return We?Ge:e.pageYOffset||i.scrollTop||o.scrollTop||0},r.prototype.getMaxScrollTop=function(){return De},r.prototype.on=function(e,t){return ue[e]=t,ae},r.prototype.off=function(e){return delete ue[e],ae},r.prototype.destroy=function(){var e=j();e(Se),Le(),He(i,[b],[y,T,S]);for(var t=0,r=le.length;r>t;t++)oe(le[t].element);i.style.overflow=o.style.overflow="",i.style.height=o.style.height="",ce&&s.setStyle(ce,"transform","none"),ae=n,ce=n,ue=n,fe=n,De=0,Pe=1,de=n,he=n,Be="down",Ye=-1,Re=0,Oe=0,Ve=!1,pe=n,ge=n,me=n,ve=n,ye=n,ze=0,be=n,We=!1,Ge=0,Te=n};var U=function(){var r,s,a,c,p,g,m,v,y,b,T,S;Ae(i,[u,f,d,h].join(" "),function(e){var i=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(p=i.clientY,g=i.clientX,b=e.timeStamp,N.test(c.tagName)||e.preventDefault(),e.type){case u:r&&r.blur(),ae.stopAnimateTo(),r=c,s=m=p,a=g,y=b;break;case f:N.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),v=p-m,S=b-T,ae.setScrollTop(Ge-v,!0),m=p,T=b;break;default:case d:case h:var o=s-p,A=a-g,w=A*A+o*o;if(49>w){if(!N.test(r.tagName)){r.focus();var L=t.createEvent("MouseEvents");L.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(L)}return}r=n;var k=v/S;k=l.max(l.min(k,3),-3);var x=l.abs(k/he),F=k*x+.5*he*x*x,E=ae.getScrollTop()-F,M=0;E>De?(M=(De-E)/F,E=De):0>E&&(M=-E/F,E=0),x*=1-M,ae.animateTo(E+.5|0,{easing:"outCubic",duration:x})}}),e.scrollTo(0,0),i.style.overflow=o.style.overflow="hidden"},X=function(){var e,t,n,r,o,s,a,c,u,f,d,h=i.clientHeight,p=Fe();for(c=0,u=le.length;u>c;c++)for(e=le[c],t=e.element,n=e.anchorTarget,r=e.keyFrames,o=0,s=r.length;s>o;o++)a=r[o],f=a.offset,d=p[a.constant]||0,a.frame=f,a.isPercentage&&(f*=h,a.frame=f),"relative"===a.mode&&(oe(t),a.frame=ae.relativeToAbsolute(n,a.anchors[0],a.anchors[1])-f,oe(t,!0)),a.frame+=d,fe&&!a.isEnd&&a.frame>De&&(De=a.frame);for(De=l.max(De,Ee()),c=0,u=le.length;u>c;c++){for(e=le[c],r=e.keyFrames,o=0,s=r.length;s>o;o++)a=r[o],d=p[a.constant]||0,a.isEnd&&(a.frame=De-a.offset+d);e.keyFrames.sort(Ie)}},J=function(e,t){for(var n=0,r=le.length;r>n;n++){var i,o,l=le[n],c=l.element,u=l.smoothScrolling?e:t,f=l.keyFrames,d=f.length,h=f[0],y=f[f.length-1],b=u<h.frame,T=u>y.frame,S=b?h:y,A=l.emitEvents,w=l.lastFrameIndex;if(b||T){if(b&&-1===l.edge||T&&1===l.edge)continue;switch(b?(He(c,[g],[v,m]),A&&w>-1&&(ke(c,h.eventType,Be),l.lastFrameIndex=-1)):(He(c,[v],[g,m]),A&&d>w&&(ke(c,y.eventType,Be),l.lastFrameIndex=d)),l.edge=b?-1:1,l.edgeStrategy){case"reset":oe(c);continue;case"ease":u=S.frame;break;default:case"set":var L=S.props;for(i in L)a.call(L,i)&&(o=ie(L[i].value),0===i.indexOf("@")?c.setAttribute(i.substr(1),o):s.setStyle(c,i,o));continue}}else 0!==l.edge&&(He(c,[p,m],[g,v]),l.edge=0);for(var k=0;d-1>k;k++)if(u>=f[k].frame&&u<=f[k+1].frame){var x=f[k],F=f[k+1];for(i in x.props)if(a.call(x.props,i)){var E=(u-x.frame)/(F.frame-x.frame);E=x.props[i].easing(E),o=re(x.props[i].value,F.props[i].value,E),o=ie(o),0===i.indexOf("@")?c.setAttribute(i.substr(1),o):s.setStyle(c,i,o)}A&&w!==k&&("down"===Be?ke(c,x.eventType,Be):ke(c,F.eventType,Be),l.lastFrameIndex=k);break}}},Z=function(){Ve&&(Ve=!1,xe());var e,t,r=ae.getScrollTop(),i=Ce();if(pe)i>=pe.endTime?(r=pe.targetTop,e=pe.done,pe=n):(t=pe.easing((i-pe.startTime)/pe.duration),r=pe.startTop+t*pe.topDiff|0),ae.setScrollTop(r,!0);else if(!ye){var o=ve.targetTop-r;o&&(ve={startTop:Ye,topDiff:r-Ye,targetTop:r,startTime:Ke,endTime:Ke+me}),i<=ve.endTime&&(t=$.sqrt((i-ve.startTime)/me),r=ve.startTop+t*ve.topDiff|0)}if(ye||Ye!==r){Be=r>Ye?"down":Ye>r?"up":Be,ye=!1;var a={curTop:r,lastTop:Ye,maxTop:De,direction:Be},l=ue.beforerender&&ue.beforerender.call(ae,a);l!==!1&&(J(r,ae.getScrollTop()),We&&ce&&s.setStyle(ce,"transform","translate(0, "+-Ge+"px) "+Te),Ye=r,ue.render&&ue.render.call(ae,a)),e&&e.call(ae,!1)}Ke=i},Q=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,o,s,a=e.keyFrames[t],l={};null!==(s=D.exec(a.props));)o=s[1],i=s[2],r=o.match(P),null!==r?(o=r[1],r=r[2]):r=A,i=i.indexOf("!")?ee(i):[i.slice(1)],l[o]={value:i,easing:$[r]};a.props=l}},ee=function(e){var t=[];return O.lastIndex=0,e=e.replace(O,function(e){return e.replace(K,function(e){return e/255*100+"%"})}),W&&(V.lastIndex=0,e=e.replace(V,function(e){return W+e})),e=e.replace(K,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},te=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)ne(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)ne(e.keyFrames[t],r)},ne=function(e,t){var n;for(n in t)a.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},re=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var o=[e[0]];for(r=1;i>r;r++)o[r]=e[r]+(t[r]-e[r])*n;return o},ie=function(e){var t=1;return R.lastIndex=0,e[0].replace(R,function(){return e[t++]})},oe=function(e,t){e=[].concat(e);for(var n,r,i=0,o=e.length;o>i;i++)r=e[i],n=le[r[q]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,He(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Me(r),r.style.cssText=n.styleAttr,He(r,n.classAttr)))},se=function(){Te="translateZ(0)",s.setStyle(ce,"transform",Te);var e=c(ce),t=e.getPropertyValue("transform"),n=e.getPropertyValue(W+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(Te="")};s.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(B,Y).replace("-",""),"zIndex"===t)isNaN(n)?r[t]=n:r[t]=""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{z&&(r[z+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var ae,le,ce,ue,fe,de,he,pe,ge,me,ve,ye,be,Te,Se,Ae=s.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),r.call(this,t)};n=n.split(" ");for(var o,s=0,a=n.length;a>s;s++)o=n[s],t.addEventListener?t.addEventListener(o,r,!1):t.attachEvent("on"+o,i),_e.push({element:t,name:o,listener:r})},we=s.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,i=t.length;i>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},Le=function(){for(var e,t=0,n=_e.length;n>t;t++)e=_e[t],we(e.element,e.name,e.listener);_e=[]},ke=function(e,t,n){ue.keyframe&&ue.keyframe.call(ae,e,t,n)},xe=function(){var e=ae.getScrollTop();De=0,fe&&!We&&(o.style.height=""),X(),fe&&!We&&(o.style.height=De+i.clientHeight+"px"),We?ae.setScrollTop(l.min(ae.getScrollTop(),De)):ae.setScrollTop(e,!0),ye=!0},Fe=function(){var e,t,n=i.clientHeight,r={};for(e in de)t=de[e],"function"==typeof t?t=t.call(ae):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},Ee=function(){var e,t=0;return ce&&(t=l.max(ce.offsetHeight,ce.scrollHeight)),e=l.max(t,o.scrollHeight,o.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight),e-i.clientHeight},Me=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},He=function(t,r,i){var o="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[o],o="baseVal"),i===n)return void(t[o]=r);for(var s=t[o],a=0,l=i.length;l>a;a++)s=Ne(s).replace(Ne(i[a])," ");s=qe(s);for(var c=0,u=r.length;u>c;c++)-1===Ne(s).indexOf(Ne(r[c]))&&(s+=" "+r[c]);t[o]=qe(s)},qe=function(e){return e.replace(C,"")},Ne=function(e){return" "+e+" "},Ce=Date.now||function(){return+new Date},Ie=function(e,t){return e.frame-t.frame},De=0,Pe=1,Be="down",Ye=-1,Ke=Ce(),Re=0,Oe=0,Ve=!1,ze=0,We=!1,Ge=0,_e=[];"function"==typeof define&&define.amd?define([],function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:e.skrollr=s}(window,document),!function(e){var t=/iPhone/i,n=/iPod/i,r=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,h=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(e,t){return e.test(t)},v=function(e){var v=e||navigator.userAgent,y=v.split("[FBAN");return"undefined"!=typeof y[1]&&(v=y[0]),this.apple={phone:m(t,v),ipod:m(n,v),tablet:!m(t,v)&&m(r,v),device:m(t,v)||m(n,v)||m(r,v)},this.amazon={phone:m(s,v),tablet:!m(s,v)&&m(a,v),device:m(s,v)||m(a,v)},this.android={phone:m(s,v)||m(i,v),tablet:!m(s,v)&&!m(i,v)&&(m(a,v)||m(o,v)),device:m(s,v)||m(a,v)||m(i,v)||m(o,v)},this.windows={phone:m(l,v),tablet:m(c,v),device:m(l,v)||m(c,v)},this.other={blackberry:m(u,v),blackberry10:m(f,v),opera:m(d,v),firefox:m(p,v),chrome:m(h,v),device:m(u,v)||m(f,v)||m(d,v)||m(p,v)||m(h,v)},this.sevenInch=m(g,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.sevenInch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},y=function(){var e=new v;return e.Class=v,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=y()):e.isMobile=y()}(this),function(e,t,n){"use strict";function r(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function i(e){this.el=e,this.image=this.el.previousElementSibling,this.currentFrame=0,this.totalFrames=90,this.path=[],this.length=[],this.handle=0,this.init()}function o(){var t=c.clientHeight,n=e.innerHeight;return n>t?n:t}function s(){return e.pageYOffset||c.scrollTop}function a(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}function l(e,t){var n=e.offsetHeight,r=s(),i=r+o(),l=a(e).top,c=l+n,t=t||0;return i>=l+n*t&&c>=r}var c=e.document.documentElement;e.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),e.cancelAnimFrame=function(){return e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||function(t){e.clearTimeout(t)}}();var u={getRectLength:function(e){var t=e.getAttribute("width"),n=e.getAttribute("height");return 2*t+2*n},getPolygonLength:function(e){var t=e.getAttribute("points");t=t.split(" ");for(var n,r,i,o,s=null,a=null,l=0,c=0;c<t.length;c++){var u=t[c].split(",");null===s&&null===a?(/(\r\n|\n|\r)/gm.test(u[0])&&(u[0]=u[0].replace(/(\r\n|\n|\r)/gm,""),u[0]=u[0].replace(/\s+/g,"")),/(\r\n|\n|\r)/gm.test(u[1])&&(u[0]=u[1].replace(/(\r\n|\n|\r)/gm,""),u[0]=u[1].replace(/\s+/g,"")),s=u[0],a=u[1],i=u[0],o=u[1]):""!==u[0]&&""!==u[1]&&(/(\r\n|\n|\r)/gm.test(u[0])&&(u[0]=u[0].replace(/(\r\n|\n|\r)/gm,""),u[0]=u[0].replace(/\s+/g,"")),/(\r\n|\n|\r)/gm.test(u[1])&&(u[0]=u[1].replace(/(\r\n|\n|\r)/gm,""),u[0]=u[1].replace(/\s+/g,"")),n=u[0],r=u[1],l+=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-a,2)),s=n,a=r,c===t.length-2&&(l+=Math.sqrt(Math.pow(i-s,2)+Math.pow(o-a,2))))}return l},getLineLength:function(e){var t=e.getAttribute("x1"),n=e.getAttribute("x2"),r=e.getAttribute("y1"),i=e.getAttribute("y2"),o=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-r,2));return o},getCircleLength:function(e){var t=e.getAttribute("r"),n=2*Math.PI*t;return n},getPathLength:function(e){var t=e.getTotalLength();return t}};i.prototype.init=function(){var e=this;[].slice.call(e.el.children).forEach(function(t,n){e.path[n]=t;var r;"polygon"===t.tagName?r=u.getPolygonLength(e.path[n]):"path"===t.tagName?r=u.getPathLength(e.path[n]):"rect"===t.tagName?r=u.getRectLength(e.path[n]):"circle"===t.tagName&&(r=u.getCircleLength(e.path[n])),e.length[n]=r,e.path[n].style.strokeDasharray=r+" "+r,e.path[n].style.strokeDashoffset=r})},i.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw())},i.prototype.draw=function(){var t=this,n=this.currentFrame/this.totalFrames;if(n>1)e.cancelAnimFrame(this.handle),this.showImage();else{this.currentFrame++;for(var r=0,i=this.path.length;i>r;r++)this.path[r].style.strokeDashoffset=Math.floor(this.length[r]*(1-n));this.handle=e.requestAnimFrame(function(){t.draw()})}},i.prototype.showImage=function(){var e=this.image,t=this.el;e.classList.add("show"),t.classList.add("hide")};var f={init:function(){this.services.init(),this.form.init(),this.setupMapSVG.init(),this.setupMobileScroll.init()},services:{init:function(){var e=t.getElementById("services");e.classList.add("is-visible"),this.setSVGDashes(),this.scrollServices()},setSVGDashes:function(n){function r(e,t){n?(e.setAttribute("stroke-dasharray",Math.ceil(t)),e.setAttribute("stroke-dashoffset",Math.ceil(t))):(e.setAttribute("data-_box-150p","stroke-dasharray:"+Math.ceil(t)+"px; stroke-dashoffset:"+Math.ceil(t)+"px;"),e.setAttribute("data-_box-250p","stroke-dasharray:"+Math.ceil(t)+"px; stroke-dashoffset:0px;"))}function i(t){t.forEach(function(t,n){"polygon"===t.tagName?r(t,u.getPolygonLength(t)):"path"===t.tagName?r(t,u.getPathLength(t)):"line"===t.tagName?r(t,u.getLineLength(t)):"circle"===t.tagName?r(t,u.getCircleLength(t)):"g"===t.tagName&&(e["eleArr"+n]=Array.prototype.slice.call(t.children),i(e["eleArr"+n]))})}var o=t.getElementById("house_scene"),s=Array.prototype.slice.call(o.children);i(s)},scrollServices:function(){function e(){var e=parseInt(r.style.height.replace("px","")),i=parseInt(t.documentElement.clientHeight);n.style.marginTop=e-i+"px"}var n=t.querySelector(".js-main"),r=t.body;isMobile.any||(r.classList.remove("no-skrolling"),r.classList.add("is-skrolling"),skrollr.init({constants:{box:"100p"}}),e())}},form:{init:function(){this.floatingLabels(),this.messageCount(),this.svgCheckboxes(),this.formSubmission()},floatingLabels:function(){function e(){var e=this.previousSibling;""!==this.value?e.classList.add(a):e.classList.remove(a)}function n(e){var t=this.previousSibling;"focus"===e.type?t.classList.add(s):t.classList.remove(s)}for(var i=t.querySelectorAll(".input"),o=r(i),s="is-active",a="is-visible",l=0;l<o.length;l++)o[l].addEventListener("keyup",e,!1),o[l].addEventListener("focus",n,!1),o[l].addEventListener("blur",n,!1)},messageCount:function(){function e(){i=this.value.length,o=r-i,s.innerHTML=o,15>=o?a.classList.add("has-error"):a.classList.remove("has-error")}var n=t.getElementById("message"),r=parseInt(n.getAttribute("maxlength")),i=0,o=0,s=t.querySelector(".js-character-count"),a=t.querySelector(".js-character-element");n.addEventListener("keyup",e,!1),n.addEventListener("blur",e,!1)},svgCheckboxes:function(){if(t.createElement("svg").getAttributeNS){var e=Array.prototype.slice.call(t.querySelectorAll('.checkbox-labels input[type="checkbox"]')),n=["M16.667,62.167c3.109,5.55,7.217,10.591,10.926,15.75 c2.614,3.636,5.149,7.519,8.161,10.853c-0.046-0.051,1.959,2.414,2.692,2.343c0.895-0.088,6.958-8.511,6.014-7.3 c5.997-7.695,11.68-15.463,16.931-23.696c6.393-10.025,12.235-20.373,18.104-30.707C82.004,24.988,84.802,20.601,87,16"],r={speed:.2,easing:"ease-in-out"},i=function(e){var n=t.createElementNS("http://www.w3.org/2000/svg","svg");return e?(n.setAttributeNS(null,"viewBox",e.viewBox),n.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio)):n.setAttributeNS(null,"viewBox","0 0 100 100"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n},o=function(e,t){var n=i(t);e.parentNode.appendChild(n),e.addEventListener("change",function(){e.checked?s(e):a(e)})};e.forEach(function(e){o(e)});var s=function(e){var i,o,s=[],a=e.parentNode.querySelector("svg");i=n,o=r,s.push(t.createElementNS("http://www.w3.org/2000/svg","path"));for(var l=0,c=s.length;c>l;++l){var u=s[l];a.appendChild(u),u.setAttributeNS(null,"d",i[l]);var f=u.getTotalLength();u.style.strokeDasharray=f+" "+f,0===l?u.style.strokeDashoffset=Math.floor(f)-1:u.style.strokeDashoffset=f,u.getBoundingClientRect(),u.style.transition=u.style.WebkitTransition=u.style.MozTransition="stroke-dashoffset "+o.speed+"s "+o.easing+" "+l*o.speed+"s",u.style.strokeDashoffset="0"}},a=function(e){Array.prototype.slice.call(e.parentNode.querySelectorAll("svg > path")).forEach(function(e){e.parentNode.removeChild(e)})}}},formSubmission:function(){function e(e){r.classList.remove(e),i.innerHTML="Send & Get Started"}var n=t.querySelector(".js-contact-form"),r=t.querySelector(".js-submit-button"),i=t.querySelector(".js-submit-content");n.addEventListener("submit",function(t){r.classList.add("is-loading"),r.setAttribute("disabled",""),i.innerHTML="Sending Message...";var o=new FormData(n),s=new XMLHttpRequest;s.open("POST","assets/includes/send_mail.php",!0),s.onload=function(){r.classList.remove("is-loading"),200===s.status?(r.classList.add("is-successful"),i.innerHTML="Message Sent!",r.removeAttribute("disabled"),setTimeout(function(){e("is-successful")},1500)):(r.classList.add("has-error"),i.innerHTML="Message Sending Failed. Please Try Again.",r.removeAttribute("disabled"),setTimeout(function(){e("has-error")},1500))},s.send(o),t.preventDefault()},!1)}},setupMapSVG:{init:function(){var n,r=t.getElementById("mapSVG"),o=!1,s=new i(r);setTimeout(function(e){return function(){l(e.parentNode)&&s.render()}}(r),250);var a=function(){o||(o=!0,setTimeout(function(){c()},60))},c=function(){l(r.parentNode,.5)&&s.render(),o=!1},u=function(){function e(){c(),n=null}n&&clearTimeout(n),n=setTimeout(e,200)};e.addEventListener("scroll",a,!1),e.addEventListener("resize",u,!1)}},setupMobileScroll:{init:function(){function n(e){e.classList.contains("is-visible")||e.classList.add("is-visible")}f.services.setSVGDashes(!0);var r=t.querySelector(".service-image-wrap"),i=t.querySelector(".service-image"),o=t.querySelector(".service-image img:first-of-type"),s=t.querySelector(".service-image img:last-of-type"),a=r.getBoundingClientRect().top,l=t.querySelector(".js-main"),u=t.querySelector(".service-text-wrap"),d=t.querySelector(".service-text:nth-child(1)"),h=t.querySelector(".service-text:nth-child(2)"),p=t.querySelector(".service-text:nth-child(3)"),g=t.querySelector(".service-text:nth-child(4)"),m=!1,v=Array.prototype.slice.call(t.querySelectorAll("#house_scene [stroke-dasharray]"));setTimeout(function(t){return function(){e.scrollY>=a-c.clientHeight/2&&e.scrollY<=l.offsetTop-a?t.classList.add("is-fixed"):t.classList.remove("is-fixed")}}(r),250);var y=function(){m||(m=!0,setTimeout(function(){b()},60))},b=function(){e.scrollY>=a-c.clientHeight/2&&e.scrollY<=l.offsetTop-a?r.classList.add("is-fixed"):r.classList.remove("is-fixed"),e.scrollY>=h.offsetTop&&e.scrollY<=h.offsetTop+h.clientHeight+c.clientHeight?u.classList.add("has-overlay"):e.scrollY>=p.offsetTop&&e.scrollY<=p.offsetTop+p.clientHeight+c.clientHeight?u.classList.add("has-overlay"):e.scrollY>=g.offsetTop&&e.scrollY<=g.offsetTop+g.clientHeight+c.clientHeight?u.classList.add("has-overlay"):u.classList.remove("has-overlay"),e.scrollY>=d.offsetTop+d.clientHeight+c.clientHeight&&n(i),e.scrollY>=h.offsetTop+h.clientHeight+c.clientHeight&&T(),e.scrollY>=p.offsetTop+p.clientHeight+c.clientHeight&&n(o),e.scrollY>=g.offsetTop+g.clientHeight+c.clientHeight&&n(s),m=!1},T=function(){var e=!1;return function(){e||(e=!0,v.forEach(function(e,t){function n(t,r){r-=10,0>r&&(r=0),e.setAttribute("stroke-dashoffset",r),r>0&&setTimeout(function(){n(t,r)},45)}var r=e.getAttribute("stroke-dashoffset");n(e,r)}))}}();e.addEventListener("scroll",y,!1)}}};e.addEventListener("DOMContentLoaded",function(){f.init()},!1)}(window,document);